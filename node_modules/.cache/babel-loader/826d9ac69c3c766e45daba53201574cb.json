{"ast":null,"code":"import React,{useRef,useEffect,useState}from\"react\";import axios from\"axios\";import ReactDOM,{render}from\"react-dom\";import{useDispatch,useSelector}from\"react-redux\";// @material-ui/core components\nimport{makeStyles,styled}from\"@material-ui/core/styles\";// material-ui icons\n//import Price from \"@material-ui/icons/AddShoppingCart\";\n// core components\nimport GridContainer from\"components/Grid/GridContainer.js\";import GridItem from\"components/Grid/GridItem.js\";import Tables from\"components/AnTable/DerechosNotarialesTable\";import TablesRegistrales from\"components/AnTable/DerechosRegistralesTable\";import Card from\"components/Card/Card.js\";import CardHeader from\"components/Card/CardHeader.js\";import CardText from\"components/Card/CardText.js\";import CardIcon from\"components/Card/CardIcon.js\";import CardBody from\"components/Card/CardBody.js\";import FormControlLabel from\"@material-ui/core/FormControlLabel\";import Check from\"@material-ui/icons/Check\";import Checkbox from\"@material-ui/core/Checkbox\";import FormLabel from\"@material-ui/core/FormLabel\";import CustomInput from\"components/CustomInput/CustomInput.js\";import FormControl from\"@material-ui/core/FormControl\";import Button from\"components/CustomButtons/Button.js\";// importar modal\nimport Add_servicio from\"./modalLiquidacion/modal_serviciosAdicionales\";import Add_registro from\"./modalLiquidacion/modal_serviciosRegistrales\";import useStyles from\"../../assets/jss/material-dashboard-pro-react/views/common\";import stylesForms from\"assets/jss/material-dashboard-pro-react/views/regularFormsStyle\";import stylesTables from\"assets/jss/material-dashboard-pro-react/components/tableStyle\";import stylesButton from\"assets/jss/material-dashboard-pro-react/views/buttonsStyle.js\";import{cardTitle}from\"assets/jss/material-dashboard-pro-react.js\";import{TableSelectCell}from\"mui-datatables\";import{Spin,message}from\"antd\";import roundHalfEven from\"round-half-even\";import FormatearNum from\"components/ComponenteFormatearNumero/Formatear_numeros\";import PDF from\"views/Proyectos//PDFcreateLiquidacion.js\";import ReactToPrint,{PrintContextConsumer,useReactToPrint}from\"react-to-print\";import LoadingS from\"components/Loading/Loading\";import ReactLoading from\"react-loading\";import html2canvas from\"html2canvas\";import jsPDF from\"jspdf\";import domtoimage from\"dom-to-image\";const columnsDer=[{title:\"Detalle\",dataIndex:\"Detalle\",key:\"Detalle\",width:100,align:\"right\"},{title:\"Ven\",dataIndex:\"Ven\",key:\"Ven\",width:35,editable:true,align:\"right\"},{title:\"Com\",dataIndex:\"Com\",key:\"Com\",width:35,align:\"right\"},{title:\"Tot\",dataIndex:\"Tot\",key:\"Tot\",width:35,editable:true,align:\"right\"},{title:\"Valor\",dataIndex:\"Valor\",key:\"Valor\",width:60,align:\"right\"},{title:\"Total\",dataIndex:\"Total\",key:\"Total\",width:60,align:\"right\"}];const columnsNot=[{title:\"Detalle\",dataIndex:\"Detalle\",key:\"Detalle\",width:80},{title:\"Ven\",dataIndex:\"Ven\",key:\"Ven\",width:30,editable:true,align:\"right\"},{title:\"Com\",dataIndex:\"Com\",key:\"Com\",width:30,editable:false,align:\"right\"},{title:\"Tot\",dataIndex:\"Tot\",key:\"Tot\",width:30,editable:true,align:\"right\"},{title:\"Valor\",dataIndex:\"Valor\",key:\"Valor\",width:45,editable:true,align:\"right\"},{title:\"IVA\",dataIndex:\"IVA\",key:\"IVA\",width:45,align:\"right\"},{title:\"Total\",dataIndex:\"Total\",key:\"Total\",width:45,align:\"right\"}];const useStylesForm=makeStyles(stylesForms);const useStylesTables=makeStyles(stylesTables);const useStylesButton=makeStyles(stylesButton);export default function LiquidarTables(_ref){let{id,nextStep,state,setState}=_ref;const dispatch=useDispatch();const classes=useStyles();const classesForm=useStylesForm();const classesTables=useStylesTables();const classesButton=useStylesButton();const[tableNot,setTableNot]=useState([]);const[tableDer,setTableDer]=useState([]);const[dataSend,setdataSend]=useState([]);const[id_radi,setId_radi]=useState(0);// const [estado, setEstado] = useState(state);\nconst[apesfo,setApesfo]=useState(0);const[Totales,setTotales]=useState({iva:0,TotDer:0,TotOtros:0,TotLiq:0});const[loading,setLoading]=useState(false);const[loadingSend,setLoadingSend]=useState(false);const[prev,setPrev]=useState(false);const[loadingPrint,setLoadingPrint]=useState(false);const[numRad,setNumRad]=useState();const[data,setData]=useState();const componentRef=useRef();// useEffect(() => {\n//   setEstado(state);\n// }, [state]);\nconst handlePrint=useReactToPrint({content:()=>componentRef.current});const handleNumRad=event=>{setNumRad(event.target.value);};useEffect(()=>{calcular_totales();},[tableNot,tableDer]);// const getDataNot = async()=>{\n//     let num_rad = document.getElementById(\"Radicacion\").value\n//     let config = {\n//                 // method: 'get',\n//                 // mode: 'cors',\n//                 // url:process.env.REACT_APP_URL_API+\"/api/liquidaciones\",\n//                 headers: {Authorization: `Bearer ${auth.token}`, 'Access-Control-Allow-Origin':true },\n//     };\n//     axios.get(process.env.REACT_APP_URL_API+'/api/liquidacionRadi?numero_radicacion='+num_rad,config)\n//     .then((response)=>{\n//             let data = response.data['derechos_notariales'].map((derechos)=>({\n//                 Tot: derechos.cantidad,\n//                 Com: derechos.cantidad_comprador,\n//                 Ven: derechos.cantidad_vendedor,\n//                 Detalle: derechos.detalle,\n//                 Total: derechos.precio_total,\n//                 Valor: derechos.valor_unitario,\n//                 IVA: derechos.iva\n//             }))\n//             setTableNot(data);\n//             console.log(response);\n//             console.log(data);\n//             // let temp = response.data['derechos_notariales']\n//             // console.log(temp[0]['acto']);\n//             let tableDer = response.data['derechos_registrales'].map((derechos)=>({\n//                 Tot: derechos.cantidad,\n//                 Com: derechos.cantidad_comprador,\n//                 Ven: derechos.cantidad_vendedor,\n//                 Detalle: derechos.detalle,\n//                 Total: derechos.precio_total,\n//                 Valor: derechos.valor_unitario,\n//             }))\n//             setTableDer(tableDer);\n//             console.log(tableDer);\n//             })\n//             .catch((e)=>{\n//                 console.log(e);\n//             })\n// }\nconst calcular_totales=()=>{let TotDer=0;let iva=0;let TotOtros=0;let TotLiq=0;let TotNotCom=0;let TotNotVen=0;let TotNotComTer=0;let TotNotVenTer=0;let TotImpDepCom=0;let TotImpDepVen=0;let TotRegCom=0;let TotRegVen=0;let TotRegisCom=0;let TotRegisVen=0;let TotCom=0;let TotVen=0;let granTot=0;if(dataSend.length>0){dataSend.forEach(element=>{if(element.tipo_liquidacion==\"derecho_notarial\"||element.tipo_liquidacion==\"servicio_adicional\"){TotDer+=element.precio_total;iva+=element.iva;TotLiq+=element.precio_total+parseFloat(element.iva.toFixed(2));//calcular total notaria\nif(element.cantidad>1){TotNotCom+=element.precio_total/element.cantidad*element.cantidad_comprador*1.19;TotNotVen+=element.precio_total/element.cantidad*element.cantidad_vendedor*1.19;TotNotCom=parseFloat(TotNotCom.toFixed(2));TotNotVen=parseFloat(TotNotVen.toFixed(2));}else{TotNotCom+=element.precio_total*element.cantidad_comprador*1.19;TotNotVen+=element.precio_total*element.cantidad_vendedor*1.19;TotNotCom=parseFloat(TotNotCom.toFixed(2));TotNotVen=parseFloat(TotNotVen.toFixed(2));}}else if(element.tipo_liquidacion==\"recaudo_terceros\"){TotOtros+=element.precio_total;TotLiq+=element.precio_total;//calcular total notaria\nif(element.cantidad>1){//verificar si las cantidades son enteras\nTotNotComTer+=element.precio_total/element.cantidad*element.cantidad_comprador;TotNotVenTer+=element.precio_total/element.cantidad*element.cantidad_vendedor;TotNotComTer=parseFloat(TotNotComTer.toFixed(2));TotNotVenTer=parseFloat(TotNotVenTer.toFixed(2));}else{//cantidades decimales\nTotNotComTer+=element.precio_total*element.cantidad_comprador;TotNotVenTer+=element.precio_total*element.cantidad_vendedor;}}else{if(element.id_items_liquidaciones==40){TotImpDepCom+=element.precio_total*element.cantidad_comprador;TotImpDepVen+=element.precio_total*element.cantidad_vendedor;TotRegisCom+=TotImpDepCom;TotRegisVen+=TotImpDepVen;}else if(element.id_items_liquidaciones==41){TotRegCom+=element.precio_total*element.cantidad_comprador;TotRegVen+=element.precio_total*element.cantidad_vendedor;TotRegisCom+=TotRegCom;TotRegisVen+=TotRegVen;}else{if(element.cantidad>1){TotRegisCom+=element.precio_total/element.cantidad*element.cantidad_comprador;TotRegisVen+=element.precio_total/element.cantidad*element.cantidad_vendedor;TotRegisCom=parseFloat(TotRegisCom.toFixed(2));TotRegisVen=parseFloat(TotRegisVen.toFixed(2));}else{TotRegisCom+=element.precio_total*element.cantidad_comprador;TotRegisVen+=element.precio_total*element.cantidad_vendedor;}}}});TotNotCom=TotNotCom+TotNotComTer;TotNotVen=TotNotVen+TotNotVenTer;TotCom+=TotNotCom+TotRegisCom;TotVen+=TotNotVen+TotRegisVen;granTot+=TotCom+TotVen;}document.getElementById(\"TotDer\").innerHTML=\"$ \"+`${FormatearNum(TotDer)}`;document.getElementById(\"TotIva\").innerHTML=\"$ \"+`${FormatearNum(iva)}`;document.getElementById(\"TotOtr\").innerHTML=\"$ \"+`${FormatearNum(TotOtros)}`;document.getElementById(\"TotLiq\").innerHTML=\"$ \"+`${FormatearNum(parseFloat(TotLiq.toFixed(2)))}`;document.getElementById(\"TotNotCom\").innerHTML=\"$ \"+`${FormatearNum(TotNotCom)}`;document.getElementById(\"TotNotVen\").innerHTML=\"$ \"+`${FormatearNum(TotNotVen)}`;document.getElementById(\"TotImpCom\").innerHTML=\"$ \"+`${FormatearNum(TotImpDepCom)}`;document.getElementById(\"TotImpVen\").innerHTML=\"$ \"+`${FormatearNum(TotImpDepVen)}`;document.getElementById(\"TotRegCom\").innerHTML=\"$ \"+`${FormatearNum(TotRegCom)}`;document.getElementById(\"TotRegVen\").innerHTML=\"$ \"+`${FormatearNum(TotRegVen)}`;document.getElementById(\"TotRegisCom\").innerHTML=\"$ \"+`${FormatearNum(TotRegisCom)}`;document.getElementById(\"TotRegisVen\").innerHTML=\"$ \"+`${FormatearNum(TotRegisVen)}`;document.getElementById(\"TotCVCom\").innerHTML=\"$ \"+`${FormatearNum(TotCom)}`;document.getElementById(\"TotCVVen\").innerHTML=\"$ \"+`${FormatearNum(TotVen)}`;document.getElementById(\"GranTot\").innerHTML=\"$ \"+`${FormatearNum(parseFloat(granTot.toFixed(2)))}`;};const liquidar_acto=(cuanti_derec,element)=>{//segun el tipo de liquidacion se calculara un valor para el acto\nlet precio_liquidacion;precio_liquidacion=element.acto.parametros.base1;if(element.acto.parametros.tope1<cuanti_derec){let diferencia=cuanti_derec-element.acto.parametros.base1;if(cuanti_derec<=element.acto.parametros.tope2){precio_liquidacion+=diferencia*element.acto.parametros.base2;}else if(element.acto.parametros.tope2<cuanti_derec&&cuanti_derec<=element.acto.parametros.tope3){precio_liquidacion+=diferencia*element.acto.parametros.base3;}else if(element.acto.parametros.tope3<cuanti_derec&&cuanti_derec<=element.acto.parametros.tope4){precio_liquidacion+=diferencia*element.acto.parametros.base4;}else{precio_liquidacion+=diferencia*element.acto.parametros.base5;}}const precio_liq=precio_liquidacion||0;return parseFloat(precio_liq.toFixed(2));};const retefuente=(element,valorRet)=>{var retef=0;if(element.acto.retencion_fuente==1){retef=valorRet*element.acto.porcentaje_retencion_fuente;}switch(element.acto.fech_adqui){case 1986:retef=retef*0.9;break;case 1985:retef=retef*0.8;break;case 1984:retef=retef*0.7;break;case 1983:retef=retef*0.6;break;case 1982:retef=retef*0.5;break;case 1981:retef=retef*0.4;break;case 1980:retef=retef*0.3;break;case 1979:retef=retef*0.2;break;case 1978:retef=retef*0.1;break;case 1977:retef=retef*0;break;}return retef;//GUARDAR LA RETEFUENTE EN RECAUDO A TERCEROS\n};const calcularTerceros=(configuracion,VTotCuan)=>{//super\nlet VSuper;if(VTotCuan==0){VSuper=configuracion.super1;}else if(VTotCuan>configuracion.tope1&&VTotCuan<=configuracion.tope2){VSuper=configuracion.super2;}else if(VTotCuan>configuracion.tope2&&VTotCuan<=configuracion.tope3){VSuper=configuracion.super3;}else if(VTotCuan>configuracion.tope3&&VTotCuan<=configuracion.tope4){VSuper=configuracion.super4;}else if(VTotCuan>configuracion.tope4&&VTotCuan<=configuracion.tope5){VSuper=configuracion.super5;}else if(VTotCuan>configuracion.tope5&&VTotCuan<=configuracion.tope6){VSuper=configuracion.super6;}else{VSuper=configuracion.super7;}return VSuper;};const calcularImpDepartamental=(configuracion,cuantia,bolfis,porcentaje)=>{let TotImpDepar;if(bolfis==\"M\"){TotImpDepar=configuracion.minima;}else if(bolfis==\"S\"){TotImpDepar=configuracion.base0;if(1<=cuantia<=configuracion.tope1){TotImpDepar+=cuantia*configuracion.base1;}else if(configuracion.tope1<cuantia<=configuracion.tope2){TotImpDepar+=cuantia*configuracion.base2;}else if(configuracion.tope2<cuantia){TotImpDepar+=cuantia*configuracion.base3;}}TotImpDepar=TotImpDepar*porcentaje;return parseFloat(TotImpDepar.toFixed(2));};const calcularImpRegistro=(configuracion,cuantia,registro,porcentaje)=>{let TotimpReg;if(registro==\"M\"){TotimpReg=configuracion.minima;}else if(registro==\"S\"){if(configuracion.tope1>=cuantia){TotimpReg=configuracion.base0;}else if(configuracion.tope1<cuantia<=configuracion.tope2){TotimpReg=cuantia*configuracion.base1;}else if(configuracion.tope2<cuantia<=configuracion.tope3){TotimpReg=cuantia*configuracion.base2;}else if(configuracion.tope3<cuantia<=configuracion.tope4){TotimpReg=cuantia*configuracion.base3;}else if(configuracion.tope4<cuantia){TotimpReg=cuantia*configuracion.base4;}}TotimpReg=TotimpReg*porcentaje;return parseFloat(TotimpReg.toFixed(2));};const enviarData=()=>{setLoadingSend(true);axios.put(process.env.REACT_APP_URL_API+\"/api/liquidaciones/\"+id_radi,dataSend).then(response=>{if(response.status===200){message.success(\"Datos enviados correctamente\");}else{message.error(\"Ha ocurrido un error\");}if(setState){setState(\"facturacion\");}setLoadingSend(false);});};const handleKeyPress=event=>{if(event.key==\"Enter\"){alert(\"Enter clicked!!!\");}};function imprimir(){setLoadingPrint(true);let config={method:\"get\",url:\"https://notadev.sinfony.com.co/desarrollo/api/pdfLiquidacion?numero_radicacion=\"+numRad};const consultar=async()=>{await axios(config).then(response=>{if(response.status==201||response.status==200){setData(response.data);setPrev(false);setPrev(true);/* download() */handlePrint();hidePrint();/* return(\r\n                    <div>\r\n                            <PDF dataFromParent={response.data} ref={componentRef} />\r\n                        </div>\r\n                    ) *//* ReactDOM.render(element, document.getElementById('root')); */}}).catch(e=>{console.log(e);setLoadingPrint(false);});};consultar();}const hidePrint=()=>{setPrev(false);setLoadingPrint(false);return/*#__PURE__*/React.createElement(\"div\",null);};/* function download(){\r\n        \r\n\r\n        const input = document.getElementById('print');\r\n        const pdf = new jsPDF();\r\n        if (pdf) {\r\n          domtoimage.toPng(input)\r\n            .then(imgData => {\r\n              pdf.addImage(imgData, 'PNG', 10, 10, 200,300);\r\n              pdf.save('download.pdf');\r\n              hidePrint()\r\n            });\r\n        }\r\n    \r\n        \r\n    } */useEffect(()=>{liquidacion(id);},[]);const liquidacion=idRad=>{setLoading(true);let num_rad;if(typeof idRad===\"number\"){num_rad=idRad;}else{num_rad=numRad;}setNumRad(num_rad);let config={headers:{\"Access-Control-Allow-Origin\":true}};axios.get(process.env.REACT_APP_URL_API+\"/api/liquidacionRadi?numero_radicacion=\"+num_rad,config).then(response=>{setLoading(false);let id_radi=response.data.derechos_notariales[0].id_radicacion;setId_radi(id_radi);//propiedades de la liquidacion\nlet sendData=[];var data=[];var data_recTer=[];var VTotCuan=0;var retef=0;var TotDerNot=0;var TotOtros=0;var TotIva=0;var liq_json;var data_json;let data_derReg=[];let index;//recaudo a terceros\nlet TotSup=0;//derechos registrales\nlet TotImpDepar=0;let TotimpReg=0;////////////////////////////////////////////////////// ITERAR POR DERECHOS NOTARIALES ///////////////////////////////////////////////\nresponse.data.derechos_notariales.forEach(element=>{//liquidar derechos notariales\nif(element.tipo_liquidacion==\"derecho_notarial\"){var precio_liquidacion=element.precio_total;var iva_derNot=element.iva;var tot_derNot=precio_liquidacion+iva_derNot;var cuantia=element.acto.cuantia;var data_recTer=[];VTotCuan=VTotCuan+cuantia;//guardar la suma de la cuantia para todos los actos\n//evaluar si el acto ya esta liquidado\nif(element.id==null){let tipLiq=element.acto.id_tarifa;let avaluo=element.acto.avaluo;// decidir si el calculo se hace con la cuantia o con el avaluo\nif(avaluo>cuantia){var cuanti_derec=avaluo;}else{var cuanti_derec=cuantia;}// cuando un acto viene sin cuantia y cualquier tipo liquidacion diferente de 01, se toma como 01\nif(tipLiq==\"02\"&&(cuantia==0||cuantia==null)){tipLiq=\"01\";///si este caso ocurre mirar si toca cambiar la configuracion\n}//////////////////////////////////////////////////////// se liquida el valor del acto segun su tipo ////////////////////////////////////////////////////////////////////////////////////////\nprecio_liquidacion=liquidar_acto(cuanti_derec,element);////////////////////////// aporte especial fondo\nif(precio_liquidacion>element.topesliq.tope1){let temp_apesfo;if(element.exento==1){alert(\"el otorgante es entidad exenta\");temp_apesfo=apesfo+(precio_liquidacion-element.topesliq.tope1);precio_liquidacion=element.topesliq.tope1;setApesfo(temp_apesfo);}else if(precio_liquidacion>element.topesliq.tope2){temp_apesfo=apesfo+(precio_liquidacion-element.topesliq.tope2);precio_liquidacion=element.topesliq.tope2;setApesfo(temp_apesfo);}}//calcular iva de los derechos notariales\niva_derNot=precio_liquidacion*0.19;iva_derNot=parseFloat(iva_derNot.toFixed(2));TotIva+=iva_derNot;tot_derNot=iva_derNot+precio_liquidacion;/////////////////////////////////////////////////////////////////RECAUDO A TERCEROS////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////// calcular retefuente /\nelement.acto.otorgantes.forEach(otorgante=>{if(otorgante.tipo_organizacion==\"Persona Natural\"){let partici=cuantia*otorgante.porcentaje_participacion;//participacion del otorgante en el total de la cuantia\nretef=retef+retefuente(element,partici);}});if(retef!==0){//guardar total\nTotDerNot+=retef;// se arma el json que se el va retornar al servidor con los datos actualizados\nlet retef_precio=FormatearNum(retef);liq_json={id:null,id_items_liquidaciones:response.data.idretef,id_radicacion:response.data.derechos_notariales[0].id_radicacion,precio_total:retef,//valor calculado\ncantidad:1,iva:null,tipo_liquidacion:\"recaudo_terceros\",cantidad_comprador:0,cantidad_vendedor:1,id_actos:null};//data para mostrar en la tabla\nvar data_retef={Tot:1,Com:0,Ven:1,Detalle:\"Retefuente\",Total:retef_precio,Valor:null,IVA:null};index=sendData.findIndex(element=>element.id_items_liquidaciones===22);sendData[index]=liq_json;index=data_recTer.findIndex(element=>element.Detalle===\"Retefuente\");data_recTer[index]=data_retef;// sendData.push(liq_json);\n// data_recTer.push(data_retef);\n}//calcular super y fondo\nlet VSuper=calcularTerceros(response.data.configuracion,VTotCuan);TotSup+=VSuper;TotOtros+=TotSup*2;let VSuper_precio=FormatearNum(TotSup);// se arma el json que se el va retornar al servidor con los datos actualizados\nliq_json={id:null,id_items_liquidaciones:response.data.idsup,id_radicacion:response.data.derechos_notariales[0].id_radicacion,precio_total:TotSup,//valor calculado\ncantidad:1,iva:null,tipo_liquidacion:\"recaudo_terceros\",cantidad_comprador:0.5,cantidad_vendedor:0.5,id_actos:null};index=sendData.findIndex(element=>element.id_items_liquidaciones===20);if(index===-1){sendData.push(liq_json);}else{sendData[index]=liq_json;}// sendData.push(liq_json);\n//visualizar datos en la vista\nlet data_sup={Tot:1,Com:0.5,Ven:0.5,Detalle:\"superintendencia de Notariado\",Total:VSuper_precio,Valor:null,IVA:null};index=data.findIndex(element=>element.Detalle===\"superintendencia de Notariado\");if(index===-1){data_recTer.push(data_sup);}else{data[index]=data_sup;}// data_recTer.push(data_sup);\n// se arma el json que se el va retornar al servidor con los datos actualizados\nliq_json={id:null,id_items_liquidaciones:response.data.idfon,id_radicacion:response.data.derechos_notariales[0].id_radicacion,precio_total:TotSup,//valor calculado\ncantidad:1,iva:null,tipo_liquidacion:\"recaudo_terceros\",cantidad_comprador:0.5,cantidad_vendedor:0.5,id_actos:null};index=sendData.findIndex(element=>element.id_items_liquidaciones===21);if(index===-1){sendData.push(liq_json);}else{sendData[index]=liq_json;}// sendData.push(liq_json);\n//visualizar los datos en la vista\nlet data_fon={Tot:1,Com:0.5,Ven:0.5,Detalle:\"Fondo Nacional de Notariado\",Total:VSuper_precio,Valor:null,IVA:null};index=data.findIndex(element=>element.Detalle===\"Fondo Nacional de Notariado\");if(index===-1){data_recTer.push(data_fon);}else{data[index]=data_fon;}// data_recTer.push(data_fon);\n//////////////////////////////////////////////////derechos registrales/////////////////////////////////////////////////////////////////////////\n//CALCULAR IMPUESTO DEPARTAMENTALES\nlet boleta=element.acto.bolfis;let porcentaje_bolfis=element.acto.porcentaje_bolfis;let precio_total=calcularImpDepartamental(response.data.derechos_registrales[0],cuantia,boleta,porcentaje_bolfis);TotImpDepar+=precio_total;let impdeparFormat=FormatearNum(TotImpDepar);// se arma el json que se el va retornar al servidor con los datos actualizados\nliq_json={id:response.data.derechos_registrales[0].id,id_items_liquidaciones:response.data.derechos_registrales[0].id_items_liquidaciones,id_radicacion:element.id_radicacion,precio_total:TotImpDepar,//valor calculado\ncantidad:1,iva:null,tipo_liquidacion:response.data.derechos_registrales[0].tipo_liquidacion,cantidad_comprador:0.5,cantidad_vendedor:0.5,id_actos:element.id_actos};index=sendData.findIndex(element=>element.id_items_liquidaciones===40);if(index===-1){sendData.push(liq_json);}else{sendData[index]=liq_json;}// sendData.push(liq_json);\n//visualizar datos en la vista\nlet data_json={Tot:1,Com:0.5,Ven:0.5,Detalle:response.data.derechos_registrales[0].detalle,Total:impdeparFormat,Valor:impdeparFormat};index=data_derReg.findIndex(element=>element.Detalle===\"Impuestos departamentales\");if(index===-1){data_derReg.push(data_json);}else{data_derReg[index]=data_json;}// data_derReg.push(data_json);\n//CALCULAR IMPUESTO REGISTROS\nlet registro=element.acto.registro;let porcentaje_registro=element.acto.porcentaje_registro;let Impreg=calcularImpRegistro(response.data.derechos_registrales[1],cuantia,registro,porcentaje_registro);TotimpReg+=Impreg;let impregFormat=FormatearNum(TotimpReg);// se arma el json que se el va retornar al servidor con los datos actualizados\nliq_json={id:response.data.derechos_registrales[1].id,id_items_liquidaciones:response.data.derechos_registrales[1].id_items_liquidaciones,id_radicacion:element.id_radicacion,precio_total:TotimpReg,//valor calculado\ncantidad:1,iva:null,tipo_liquidacion:response.data.derechos_registrales[1].tipo_liquidacion,cantidad_comprador:0.5,cantidad_vendedor:0.5,id_actos:element.id_actos};index=sendData.findIndex(element=>element.id_items_liquidaciones===41);if(index===-1){sendData.push(liq_json);}else{sendData[index]=liq_json;}// sendData.push(liq_json);\n//visualizar datos en la vista\nlet data_regis={Tot:1,Com:0.5,Ven:0.5,Detalle:response.data.derechos_registrales[1].detalle,Total:impregFormat,Valor:impregFormat};index=data_derReg.findIndex(element=>element.Detalle===\"Impuesto de registro\");if(index===-1){data_derReg.push(data_regis);}else{data_derReg[index]=data_regis;}// data_derReg.push(data_regis);\n}//guardar el total\n// TotDerNot += precio_liquidacion;\nlet precio=FormatearNum(precio_liquidacion);let tot_derNotFormat=FormatearNum(tot_derNot);let iva_precio=FormatearNum(iva_derNot);// se arma el json que se el va retornar al servidor con los datos actualizados\nliq_json={id:element.id,id_items_liquidaciones:element.id_items_liquidaciones,id_radicacion:element.id_radicacion,precio_total:precio_liquidacion,//valor calculado\ncantidad:1,iva:iva_derNot,tipo_liquidacion:element.tipo_liquidacion,cantidad_comprador:0.5,cantidad_vendedor:0.5,id_actos:element.acto.id};sendData.push(liq_json);//data para mostrar en la tabla\ndata_json={Tot:1,Com:0.5,Ven:0.5,Detalle:element.detalle,Total:tot_derNotFormat,Valor:precio,IVA:iva_precio,tipo_liquidacion:element.tipo_liquidacion,id_items_liquidaciones:element.id_items_liquidaciones};index=data.findIndex(element=>element.tipo_liquidacion===\"derecho_notarial\");data.splice(index,0,data_json);// data.push(data_json);\ndata=data.concat(data_recTer);}//liquidar servivicios adicionales\nelse if(element.tipo_liquidacion==\"servicio_adicional\"){// se arma el json que se el va retornar al servidor con los datos actualizados\nlet serAdi=FormatearNum(element.precio_total);let iva_add=element.precio_total*0.19;let serAdiIva=FormatearNum(iva_add);let serAdiTot=FormatearNum(iva_add+element.precio_total);let liq_json={id:element.id,id_items_liquidaciones:element.id_items_liquidaciones,id_radicacion:element.id_radicacion,precio_total:element.precio_total,cantidad:element.cantidad,iva:iva_add,tipo_liquidacion:element.tipo_liquidacion,cantidad_comprador:element.cantidad_comprador,cantidad_vendedor:element.cantidad_vendedor,id_actos:null};sendData.push(liq_json);//data para mostrar en la tabla\ndata_json={Tot:element.cantidad,Com:element.cantidad_comprador,Ven:element.cantidad_vendedor,Detalle:element.detalle,Total:serAdiTot,Valor:serAdi,IVA:serAdiIva,tipo_liquidacion:element.tipo_liquidacion,valor_uni:element.valor_unitario,id_items_liquidaciones:element.id_items_liquidaciones,editable:element.editable};//guardar total\nTotDerNot+=element.precio_total;TotIva+=iva_add;index=data.findIndex(element=>element.Detalle===\"Retefuente\");data.splice(index,0,data_json);}//Recaudos a terceros traidos de la base de datos\nelse if(element.tipo_liquidacion==\"recaudo_terceros\"){let VSuper=element.precio_total;TotOtros+=VSuper*2;let VSuper_precio=FormatearNum(VSuper);liq_json={id:element.id,id_items_liquidaciones:element.id_items_liquidaciones,id_radicacion:element.id_radicacion,precio_total:element.precio_total,//valor calculado\ncantidad:element.cantidad,iva:element.iva,tipo_liquidacion:element.tipo_liquidacion,cantidad_comprador:element.cantidad_comprador,cantidad_vendedor:element.cantidad_vendedor,id_actos:null};//data para mostrar en la tabla\nvar data_recTer={Tot:element.cantidad,Com:element.cantidad_comprador,Ven:element.cantidad_vendedor,Detalle:element.detalle,Total:VSuper_precio,Valor:element.valor_uni,IVA:element.iva,editable:element.editable,tipo_liquidacion:element.tipo,id_items_liquidaciones:element.id_items_liquidaciones};sendData.push(liq_json);data.push(data_recTer);}});////////////////////////////////////////////////////// ITERAR POR DERECHOS REGISTRALES ///////////////////////////////////////////////\nresponse.data.derechos_registrales.forEach(element=>{if(element.base0===undefined){let precio_total=element.precio_total;let impdeparFormat=FormatearNum(precio_total);// se arma el json que se el va retornar al servidor con los datos actualizados\nliq_json={id:element.id,id_items_liquidaciones:element.id_items_liquidaciones,id_radicacion:element.id_radicacion,precio_total:precio_total,//valor calculado\ncantidad:element.cantidad,iva:element.iva,tipo_liquidacion:element.tipo_liquidacion,cantidad_comprador:element.cantidad_comprador,cantidad_vendedor:element.cantidad_vendedor,id_actos:element.id_actos};sendData.push(liq_json);//visualizar datos en la vista\nlet data_json={Tot:element.cantidad,Com:element.cantidad_comprador,Ven:element.cantidad_vendedor,Detalle:element.detalle,Total:impdeparFormat,Valor:impdeparFormat,tipo_liquidacion:element.tipo_liquidacion,valor_uni:element.valor_unitario,id_items_liquidaciones:element.id_items_liquidaciones};data_derReg.push(data_json);}});//actualizar datos para enviar al servidor\nsetdataSend(sendData);//actualizar los datos de la tabla de derechos notariales con su liquidacion y servicion adicionales\nsetTableNot(data);//actualizar los datos de la tabla para los derechos registrales\nsetTableDer(data_derReg);let total_liq=TotDerNot+TotIva+TotOtros;setTotales({...Totales,TotDer:TotDerNot,iva:TotIva,TotOtros:TotOtros,TotLiq:total_liq});//\n}).catch(error=>{setLoading(false);});};const[checked,setChecked]=React.useState([24,22]);const handleToggle=value=>{const currentIndex=checked.indexOf(value);const newChecked=[...checked];if(currentIndex===-1){newChecked.push(value);}else{newChecked.splice(currentIndex,1);}setChecked(newChecked);};return/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Spin,{spinning:loadingSend},/*#__PURE__*/React.createElement(CardHeader,{color:\"primary\",text:true},/*#__PURE__*/React.createElement(CardText,{className:classes.cardText,color:\"primary\"},/*#__PURE__*/React.createElement(\"h4\",{className:classes.colorWhite},\" Liquidar Escritura \"))),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(GridContainer,{direction:\"row\",justify:\"flex-end\"},/*#__PURE__*/React.createElement(GridItem,{style:{marginRight:\"100px\",backgroundColor:\"#f2f2f2\",border:\"1px solid black\"}},/*#__PURE__*/React.createElement(FormLabel,{style:{fontSize:\"20px\"}},\"Radicaci\\xF3n Nro. \",id?id:\"\"),!id&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CustomInput,{id:\"Radicacion\",formControlProps:{},inputProps:{type:\"text\",value:numRad,onChange:handleNumRad},helpText:\"A block of help text that breaks onto a new line.\",onPressEnter:liquidacion}),/*#__PURE__*/React.createElement(Button,{justIcon:true,color:\"rose\",className:classes.marginRight,onClick:liquidacion},/*#__PURE__*/React.createElement(\"span\",{className:\"material-icons\"},\"search\")))))),/*#__PURE__*/React.createElement(GridContainer,null,/*#__PURE__*/React.createElement(GridItem,{xs:8},/*#__PURE__*/React.createElement(\"div\",{className:classes.cardHeader},/*#__PURE__*/React.createElement(\"h3\",{className:classes.cardTitle},\"Derechos notariales y recaudo\")),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Tables,{columns:columnsNot,dataSource:tableNot,set:setTableNot,dataSend:dataSend,setSend:setdataSend,loading:loading}))),/*#__PURE__*/React.createElement(GridItem,{xs:4,direction:\"row\",style:{marginTop:\"30px\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Add_servicio,{data:tableNot,set:setTableNot,dataSend:dataSend,setSend:setdataSend}),/*#__PURE__*/React.createElement(\"table\",{style:{width:250,height:150,textAlign:\"right\"}},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Total Derechos\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotDer\",style:{background:\"#e6e6e6\"}},\"$ 0\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{\"text-align\":\"right\"},\"Total IVA\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotIva\",style:{background:\"#e6e6e6\"}},\"$ 0\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{\"text-align\":\"right\"},\"Otros\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotOtr\",style:{background:\"#e6e6e6\"}},\"$ 0\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{\"text-align\":\"right\"},/*#__PURE__*/React.createElement(\"b\",null,\"Total Liquidaci\\xF3n\")),/*#__PURE__*/React.createElement(\"td\",{id:\"TotLiq\",style:{background:\"#e6e6e6\"}},\"$ 0\")))))),/*#__PURE__*/React.createElement(GridContainer,{style:{padding:20}},/*#__PURE__*/React.createElement(GridItem,{xs:8},/*#__PURE__*/React.createElement(\"div\",{className:classes.cardHeader},/*#__PURE__*/React.createElement(\"h3\",{className:classes.cardTitle},\"Derechos registrales\")),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TablesRegistrales,{columns:columnsDer,dataSource:tableDer,set:setTableDer,dataSend:dataSend,setSend:setdataSend,loading:loading}))),/*#__PURE__*/React.createElement(GridItem,{xs:4,direction:\"row\",style:{marginTop:\"30px\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Add_registro,{data:tableDer,set:setTableDer,dataSend:dataSend,setSend:setdataSend}),/*#__PURE__*/React.createElement(\"table\",{style:{width:320,height:200,textAlign:\"right\"}},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null,\"Vendedor\"),/*#__PURE__*/React.createElement(\"td\",null,\"Comprador\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Total Notaria\")),/*#__PURE__*/React.createElement(\"td\",{id:\"TotNotVen\",style:{background:\"#e6e6e6\"}},\"$ 0\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotNotCom\",style:{background:\"#e6e6e6\"}},\"$ 0\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{\"text-align\":\"right\"},\"Total imp. dptal\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotImpVen\",style:{background:\"#e6e6e6\"}},\"$ 0\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotImpCom\",style:{background:\"#e6e6e6\"}},\"$ 0\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{\"text-align\":\"right\"},\"Total registro\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotRegVen\",style:{background:\"#e6e6e6\"}},\"$ 0\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotRegCom\",style:{background:\"#e6e6e6\"}},\"$ 0\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{\"text-align\":\"right\"},/*#__PURE__*/React.createElement(\"b\",null,\"Total registrales\")),/*#__PURE__*/React.createElement(\"td\",{id:\"TotRegisVen\",style:{background:\"#e6e6e6\"}},\"$ 0\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotRegisCom\",style:{background:\"#e6e6e6\"}},\"$ 0\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{\"text-align\":\"right\"},/*#__PURE__*/React.createElement(\"b\",null,\"Totales CV\")),/*#__PURE__*/React.createElement(\"td\",{id:\"TotCVVen\"},\"$ 0\"),/*#__PURE__*/React.createElement(\"td\",{id:\"TotCVCom\"},\"$ 0\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{\"text-align\":\"right\"},/*#__PURE__*/React.createElement(\"b\",null,\"Gran total\")),/*#__PURE__*/React.createElement(\"td\",{id:\"GranTot\"},\"$ 0\")))))),/*#__PURE__*/React.createElement(GridContainer,{justify:\"flex-end\",style:{padding:20}},/*#__PURE__*/React.createElement(\"div\",{className:classes.cardContentLeft},loadingPrint===false?/*#__PURE__*/React.createElement(Button,{color:\"rose\",onClick:imprimir},\"IMPRIMIR\"):/*#__PURE__*/React.createElement(Button,{disabled:true},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(ReactLoading,{type:\"bubbles\",color:\"#2d358c\",height:\"20%\",width:\"20%\"})))),/*#__PURE__*/React.createElement(Button,{color:\"rose\",className:classes.marginRight},\"ENVIAR CORREO\"),/*#__PURE__*/React.createElement(Button,{color:\"rose\",className:classes.marginRight,onClick:enviarData},\"FINALIZAR\"),state===\"facturacion\"&&/*#__PURE__*/React.createElement(Button,{color:\"rose\",className:classes.marginRight,onClick:nextStep},\"FACTURAR\"))),prev===true?/*#__PURE__*/React.createElement(GridContainer,{justify:\"flex-end\"},/*#__PURE__*/React.createElement(\"div\",{id:\"print\",className:classes.cardContentLeft},/*#__PURE__*/React.createElement(PDF,{dataFromParent:data,ref:componentRef}))):/*#__PURE__*/React.createElement(\"div\",null))));}","map":{"version":3,"names":["React","useRef","useEffect","useState","axios","ReactDOM","render","useDispatch","useSelector","makeStyles","styled","GridContainer","GridItem","Tables","TablesRegistrales","Card","CardHeader","CardText","CardIcon","CardBody","FormControlLabel","Check","Checkbox","FormLabel","CustomInput","FormControl","Button","Add_servicio","Add_registro","useStyles","stylesForms","stylesTables","stylesButton","cardTitle","TableSelectCell","Spin","message","roundHalfEven","FormatearNum","PDF","ReactToPrint","PrintContextConsumer","useReactToPrint","LoadingS","ReactLoading","html2canvas","jsPDF","domtoimage","columnsDer","title","dataIndex","key","width","align","editable","columnsNot","useStylesForm","useStylesTables","useStylesButton","LiquidarTables","_ref","id","nextStep","state","setState","dispatch","classes","classesForm","classesTables","classesButton","tableNot","setTableNot","tableDer","setTableDer","dataSend","setdataSend","id_radi","setId_radi","apesfo","setApesfo","Totales","setTotales","iva","TotDer","TotOtros","TotLiq","loading","setLoading","loadingSend","setLoadingSend","prev","setPrev","loadingPrint","setLoadingPrint","numRad","setNumRad","data","setData","componentRef","handlePrint","content","current","handleNumRad","event","target","value","calcular_totales","TotNotCom","TotNotVen","TotNotComTer","TotNotVenTer","TotImpDepCom","TotImpDepVen","TotRegCom","TotRegVen","TotRegisCom","TotRegisVen","TotCom","TotVen","granTot","length","forEach","element","tipo_liquidacion","precio_total","parseFloat","toFixed","cantidad","cantidad_comprador","cantidad_vendedor","id_items_liquidaciones","document","getElementById","innerHTML","liquidar_acto","cuanti_derec","precio_liquidacion","acto","parametros","base1","tope1","diferencia","tope2","base2","tope3","base3","tope4","base4","base5","precio_liq","retefuente","valorRet","retef","retencion_fuente","porcentaje_retencion_fuente","fech_adqui","calcularTerceros","configuracion","VTotCuan","VSuper","super1","super2","super3","super4","tope5","super5","tope6","super6","super7","calcularImpDepartamental","cuantia","bolfis","porcentaje","TotImpDepar","minima","base0","calcularImpRegistro","registro","TotimpReg","enviarData","put","process","env","REACT_APP_URL_API","then","response","status","success","error","handleKeyPress","alert","imprimir","config","method","url","consultar","hidePrint","catch","e","console","log","createElement","liquidacion","idRad","num_rad","headers","get","derechos_notariales","id_radicacion","sendData","data_recTer","TotDerNot","TotIva","liq_json","data_json","data_derReg","index","TotSup","iva_derNot","tot_derNot","tipLiq","id_tarifa","avaluo","topesliq","temp_apesfo","exento","otorgantes","otorgante","tipo_organizacion","partici","porcentaje_participacion","retef_precio","idretef","id_actos","data_retef","Tot","Com","Ven","Detalle","Total","Valor","IVA","findIndex","VSuper_precio","idsup","push","data_sup","idfon","data_fon","boleta","porcentaje_bolfis","derechos_registrales","impdeparFormat","detalle","porcentaje_registro","Impreg","impregFormat","data_regis","precio","tot_derNotFormat","iva_precio","splice","concat","serAdi","iva_add","serAdiIva","serAdiTot","valor_uni","valor_unitario","tipo","undefined","total_liq","checked","setChecked","handleToggle","currentIndex","indexOf","newChecked","spinning","color","text","className","cardText","colorWhite","direction","justify","style","marginRight","backgroundColor","border","fontSize","Fragment","formControlProps","inputProps","type","onChange","helpText","onPressEnter","justIcon","onClick","xs","cardHeader","columns","dataSource","set","setSend","marginTop","height","textAlign","background","padding","cardContentLeft","disabled","dataFromParent","ref"],"sources":["C:/Users/HUAWEI/Documents/GitHub/SinfonyPlataforma/src/views/LiquidacionEscritura/LiquidarEscritura.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport ReactDOM, { render } from \"react-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n// @material-ui/core components\r\nimport { makeStyles, styled } from \"@material-ui/core/styles\";\r\n\r\n// material-ui icons\r\n//import Price from \"@material-ui/icons/AddShoppingCart\";\r\n\r\n// core components\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Tables from \"components/AnTable/DerechosNotarialesTable\";\r\nimport TablesRegistrales from \"components/AnTable/DerechosRegistralesTable\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport CardText from \"components/Card/CardText.js\";\r\nimport CardIcon from \"components/Card/CardIcon.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Button from \"components/CustomButtons/Button.js\";\r\n\r\n// importar modal\r\nimport Add_servicio from \"./modalLiquidacion/modal_serviciosAdicionales\";\r\nimport Add_registro from \"./modalLiquidacion/modal_serviciosRegistrales\";\r\n\r\nimport useStyles from \"../../assets/jss/material-dashboard-pro-react/views/common\";\r\nimport stylesForms from \"assets/jss/material-dashboard-pro-react/views/regularFormsStyle\";\r\nimport stylesTables from \"assets/jss/material-dashboard-pro-react/components/tableStyle\";\r\nimport stylesButton from \"assets/jss/material-dashboard-pro-react/views/buttonsStyle.js\";\r\n\r\nimport { cardTitle } from \"assets/jss/material-dashboard-pro-react.js\";\r\nimport { TableSelectCell } from \"mui-datatables\";\r\n\r\nimport { Spin, message } from \"antd\";\r\n\r\nimport roundHalfEven from \"round-half-even\";\r\n\r\nimport FormatearNum from \"components/ComponenteFormatearNumero/Formatear_numeros\";\r\n\r\nimport PDF from \"views/Proyectos//PDFcreateLiquidacion.js\";\r\nimport ReactToPrint, {\r\n  PrintContextConsumer,\r\n  useReactToPrint,\r\n} from \"react-to-print\";\r\nimport LoadingS from \"components/Loading/Loading\";\r\nimport ReactLoading from \"react-loading\";\r\nimport html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\nimport domtoimage from \"dom-to-image\";\r\n\r\nconst columnsDer = [\r\n  {\r\n    title: \"Detalle\",\r\n    dataIndex: \"Detalle\",\r\n    key: \"Detalle\",\r\n    width: 100,\r\n    align: \"right\",\r\n  },\r\n  {\r\n    title: \"Ven\",\r\n    dataIndex: \"Ven\",\r\n    key: \"Ven\",\r\n    width: 35,\r\n    editable: true,\r\n    align: \"right\",\r\n  },\r\n  {\r\n    title: \"Com\",\r\n    dataIndex: \"Com\",\r\n    key: \"Com\",\r\n    width: 35,\r\n    align: \"right\",\r\n  },\r\n\r\n  {\r\n    title: \"Tot\",\r\n    dataIndex: \"Tot\",\r\n    key: \"Tot\",\r\n    width: 35,\r\n    editable: true,\r\n    align: \"right\",\r\n  },\r\n  {\r\n    title: \"Valor\",\r\n    dataIndex: \"Valor\",\r\n    key: \"Valor\",\r\n    width: 60,\r\n    align: \"right\",\r\n  },\r\n  {\r\n    title: \"Total\",\r\n    dataIndex: \"Total\",\r\n    key: \"Total\",\r\n    width: 60,\r\n    align: \"right\",\r\n  },\r\n];\r\n\r\nconst columnsNot = [\r\n  {\r\n    title: \"Detalle\",\r\n    dataIndex: \"Detalle\",\r\n    key: \"Detalle\",\r\n    width: 80,\r\n  },\r\n  {\r\n    title: \"Ven\",\r\n    dataIndex: \"Ven\",\r\n    key: \"Ven\",\r\n    width: 30,\r\n    editable: true,\r\n    align: \"right\",\r\n  },\r\n  {\r\n    title: \"Com\",\r\n    dataIndex: \"Com\",\r\n    key: \"Com\",\r\n    width: 30,\r\n    editable: false,\r\n    align: \"right\",\r\n  },\r\n  {\r\n    title: \"Tot\",\r\n    dataIndex: \"Tot\",\r\n    key: \"Tot\",\r\n    width: 30,\r\n    editable: true,\r\n    align: \"right\",\r\n  },\r\n  {\r\n    title: \"Valor\",\r\n    dataIndex: \"Valor\",\r\n    key: \"Valor\",\r\n    width: 45,\r\n    editable: true,\r\n    align: \"right\",\r\n  },\r\n  {\r\n    title: \"IVA\",\r\n    dataIndex: \"IVA\",\r\n    key: \"IVA\",\r\n    width: 45,\r\n    align: \"right\",\r\n  },\r\n  {\r\n    title: \"Total\",\r\n    dataIndex: \"Total\",\r\n    key: \"Total\",\r\n    width: 45,\r\n    align: \"right\",\r\n  },\r\n];\r\n\r\nconst useStylesForm = makeStyles(stylesForms);\r\nconst useStylesTables = makeStyles(stylesTables);\r\nconst useStylesButton = makeStyles(stylesButton);\r\n\r\nexport default function LiquidarTables({ id, nextStep, state, setState }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const classes = useStyles();\r\n  const classesForm = useStylesForm();\r\n  const classesTables = useStylesTables();\r\n  const classesButton = useStylesButton();\r\n\r\n  const [tableNot, setTableNot] = useState([]);\r\n  const [tableDer, setTableDer] = useState([]);\r\n  const [dataSend, setdataSend] = useState([]);\r\n  const [id_radi, setId_radi] = useState(0);\r\n  // const [estado, setEstado] = useState(state);\r\n  const [apesfo, setApesfo] = useState(0);\r\n  const [Totales, setTotales] = useState({\r\n    iva: 0,\r\n    TotDer: 0,\r\n    TotOtros: 0,\r\n    TotLiq: 0,\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingSend, setLoadingSend] = useState(false);\r\n\r\n  const [prev, setPrev] = useState(false);\r\n  const [loadingPrint, setLoadingPrint] = useState(false);\r\n  const [numRad, setNumRad] = useState();\r\n  const [data, setData] = useState();\r\n  const componentRef = useRef();\r\n\r\n  // useEffect(() => {\r\n  //   setEstado(state);\r\n  // }, [state]);\r\n\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  const handleNumRad = (event) => {\r\n    setNumRad(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    calcular_totales();\r\n  }, [tableNot, tableDer]);\r\n\r\n  // const getDataNot = async()=>{\r\n\r\n  //     let num_rad = document.getElementById(\"Radicacion\").value\r\n  //     let config = {\r\n  //                 // method: 'get',\r\n  //                 // mode: 'cors',\r\n  //                 // url:process.env.REACT_APP_URL_API+\"/api/liquidaciones\",\r\n  //                 headers: {Authorization: `Bearer ${auth.token}`, 'Access-Control-Allow-Origin':true },\r\n  //     };\r\n  //     axios.get(process.env.REACT_APP_URL_API+'/api/liquidacionRadi?numero_radicacion='+num_rad,config)\r\n  //     .then((response)=>{\r\n  //             let data = response.data['derechos_notariales'].map((derechos)=>({\r\n  //                 Tot: derechos.cantidad,\r\n  //                 Com: derechos.cantidad_comprador,\r\n  //                 Ven: derechos.cantidad_vendedor,\r\n  //                 Detalle: derechos.detalle,\r\n  //                 Total: derechos.precio_total,\r\n  //                 Valor: derechos.valor_unitario,\r\n  //                 IVA: derechos.iva\r\n  //             }))\r\n  //             setTableNot(data);\r\n  //             console.log(response);\r\n  //             console.log(data);\r\n  //             // let temp = response.data['derechos_notariales']\r\n  //             // console.log(temp[0]['acto']);\r\n\r\n  //             let tableDer = response.data['derechos_registrales'].map((derechos)=>({\r\n  //                 Tot: derechos.cantidad,\r\n  //                 Com: derechos.cantidad_comprador,\r\n  //                 Ven: derechos.cantidad_vendedor,\r\n  //                 Detalle: derechos.detalle,\r\n  //                 Total: derechos.precio_total,\r\n  //                 Valor: derechos.valor_unitario,\r\n  //             }))\r\n  //             setTableDer(tableDer);\r\n  //             console.log(tableDer);\r\n  //             })\r\n  //             .catch((e)=>{\r\n  //                 console.log(e);\r\n  //             })\r\n  // }\r\n\r\n  const calcular_totales = () => {\r\n    let TotDer = 0;\r\n    let iva = 0;\r\n    let TotOtros = 0;\r\n    let TotLiq = 0;\r\n\r\n    let TotNotCom = 0;\r\n    let TotNotVen = 0;\r\n    let TotNotComTer = 0;\r\n    let TotNotVenTer = 0;\r\n    let TotImpDepCom = 0;\r\n    let TotImpDepVen = 0;\r\n    let TotRegCom = 0;\r\n    let TotRegVen = 0;\r\n    let TotRegisCom = 0;\r\n    let TotRegisVen = 0;\r\n    let TotCom = 0;\r\n    let TotVen = 0;\r\n    let granTot = 0;\r\n    if (dataSend.length > 0) {\r\n      dataSend.forEach((element) => {\r\n        if (\r\n          element.tipo_liquidacion == \"derecho_notarial\" ||\r\n          element.tipo_liquidacion == \"servicio_adicional\"\r\n        ) {\r\n          TotDer += element.precio_total;\r\n          iva += element.iva;\r\n          TotLiq += element.precio_total + parseFloat(element.iva.toFixed(2));\r\n\r\n          //calcular total notaria\r\n          if (element.cantidad > 1) {\r\n            TotNotCom +=\r\n              (element.precio_total / element.cantidad) *\r\n              element.cantidad_comprador *\r\n              1.19;\r\n            TotNotVen +=\r\n              (element.precio_total / element.cantidad) *\r\n              element.cantidad_vendedor *\r\n              1.19;\r\n            TotNotCom = parseFloat(TotNotCom.toFixed(2));\r\n            TotNotVen = parseFloat(TotNotVen.toFixed(2));\r\n          } else {\r\n            TotNotCom +=\r\n              element.precio_total * element.cantidad_comprador * 1.19;\r\n            TotNotVen +=\r\n              element.precio_total * element.cantidad_vendedor * 1.19;\r\n            TotNotCom = parseFloat(TotNotCom.toFixed(2));\r\n            TotNotVen = parseFloat(TotNotVen.toFixed(2));\r\n          }\r\n        } else if (element.tipo_liquidacion == \"recaudo_terceros\") {\r\n          TotOtros += element.precio_total;\r\n          TotLiq += element.precio_total;\r\n\r\n          //calcular total notaria\r\n          if (element.cantidad > 1) {\r\n            //verificar si las cantidades son enteras\r\n            TotNotComTer +=\r\n              (element.precio_total / element.cantidad) *\r\n              element.cantidad_comprador;\r\n            TotNotVenTer +=\r\n              (element.precio_total / element.cantidad) *\r\n              element.cantidad_vendedor;\r\n            TotNotComTer = parseFloat(TotNotComTer.toFixed(2));\r\n            TotNotVenTer = parseFloat(TotNotVenTer.toFixed(2));\r\n          } else {\r\n            //cantidades decimales\r\n            TotNotComTer += element.precio_total * element.cantidad_comprador;\r\n            TotNotVenTer += element.precio_total * element.cantidad_vendedor;\r\n          }\r\n        } else {\r\n          if (element.id_items_liquidaciones == 40) {\r\n            TotImpDepCom += element.precio_total * element.cantidad_comprador;\r\n            TotImpDepVen += element.precio_total * element.cantidad_vendedor;\r\n            TotRegisCom += TotImpDepCom;\r\n            TotRegisVen += TotImpDepVen;\r\n          } else if (element.id_items_liquidaciones == 41) {\r\n            TotRegCom += element.precio_total * element.cantidad_comprador;\r\n            TotRegVen += element.precio_total * element.cantidad_vendedor;\r\n            TotRegisCom += TotRegCom;\r\n            TotRegisVen += TotRegVen;\r\n          } else {\r\n            if (element.cantidad > 1) {\r\n              TotRegisCom +=\r\n                (element.precio_total / element.cantidad) *\r\n                element.cantidad_comprador;\r\n              TotRegisVen +=\r\n                (element.precio_total / element.cantidad) *\r\n                element.cantidad_vendedor;\r\n              TotRegisCom = parseFloat(TotRegisCom.toFixed(2));\r\n              TotRegisVen = parseFloat(TotRegisVen.toFixed(2));\r\n            } else {\r\n              TotRegisCom += element.precio_total * element.cantidad_comprador;\r\n              TotRegisVen += element.precio_total * element.cantidad_vendedor;\r\n            }\r\n          }\r\n        }\r\n      });\r\n      TotNotCom = TotNotCom + TotNotComTer;\r\n      TotNotVen = TotNotVen + TotNotVenTer;\r\n      TotCom += TotNotCom + TotRegisCom;\r\n      TotVen += TotNotVen + TotRegisVen;\r\n      granTot += TotCom + TotVen;\r\n    }\r\n    document.getElementById(\"TotDer\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotDer)}`;\r\n    document.getElementById(\"TotIva\").innerHTML = \"$ \" + `${FormatearNum(iva)}`;\r\n    document.getElementById(\"TotOtr\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotOtros)}`;\r\n    document.getElementById(\"TotLiq\").innerHTML =\r\n      \"$ \" + `${FormatearNum(parseFloat(TotLiq.toFixed(2)))}`;\r\n\r\n    document.getElementById(\"TotNotCom\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotNotCom)}`;\r\n    document.getElementById(\"TotNotVen\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotNotVen)}`;\r\n    document.getElementById(\"TotImpCom\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotImpDepCom)}`;\r\n    document.getElementById(\"TotImpVen\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotImpDepVen)}`;\r\n    document.getElementById(\"TotRegCom\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotRegCom)}`;\r\n    document.getElementById(\"TotRegVen\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotRegVen)}`;\r\n    document.getElementById(\"TotRegisCom\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotRegisCom)}`;\r\n    document.getElementById(\"TotRegisVen\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotRegisVen)}`;\r\n    document.getElementById(\"TotCVCom\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotCom)}`;\r\n    document.getElementById(\"TotCVVen\").innerHTML =\r\n      \"$ \" + `${FormatearNum(TotVen)}`;\r\n    document.getElementById(\"GranTot\").innerHTML =\r\n      \"$ \" + `${FormatearNum(parseFloat(granTot.toFixed(2)))}`;\r\n  };\r\n\r\n  const liquidar_acto = (cuanti_derec, element) => {\r\n    //segun el tipo de liquidacion se calculara un valor para el acto\r\n    let precio_liquidacion;\r\n    precio_liquidacion = element.acto.parametros.base1;\r\n    if (element.acto.parametros.tope1 < cuanti_derec) {\r\n      let diferencia = cuanti_derec - element.acto.parametros.base1;\r\n      if (cuanti_derec <= element.acto.parametros.tope2) {\r\n        precio_liquidacion += diferencia * element.acto.parametros.base2;\r\n      } else if (\r\n        element.acto.parametros.tope2 < cuanti_derec &&\r\n        cuanti_derec <= element.acto.parametros.tope3\r\n      ) {\r\n        precio_liquidacion += diferencia * element.acto.parametros.base3;\r\n      } else if (\r\n        element.acto.parametros.tope3 < cuanti_derec &&\r\n        cuanti_derec <= element.acto.parametros.tope4\r\n      ) {\r\n        precio_liquidacion += diferencia * element.acto.parametros.base4;\r\n      } else {\r\n        precio_liquidacion += diferencia * element.acto.parametros.base5;\r\n      }\r\n    }\r\n    const precio_liq = precio_liquidacion || 0;\r\n    return parseFloat(precio_liq.toFixed(2));\r\n  };\r\n\r\n  const retefuente = (element, valorRet) => {\r\n    var retef = 0;\r\n    if (element.acto.retencion_fuente == 1) {\r\n      retef = valorRet * element.acto.porcentaje_retencion_fuente;\r\n    }\r\n\r\n    switch (element.acto.fech_adqui) {\r\n      case 1986:\r\n        retef = retef * 0.9;\r\n        break;\r\n      case 1985:\r\n        retef = retef * 0.8;\r\n        break;\r\n      case 1984:\r\n        retef = retef * 0.7;\r\n        break;\r\n      case 1983:\r\n        retef = retef * 0.6;\r\n        break;\r\n      case 1982:\r\n        retef = retef * 0.5;\r\n        break;\r\n      case 1981:\r\n        retef = retef * 0.4;\r\n        break;\r\n      case 1980:\r\n        retef = retef * 0.3;\r\n        break;\r\n      case 1979:\r\n        retef = retef * 0.2;\r\n        break;\r\n      case 1978:\r\n        retef = retef * 0.1;\r\n        break;\r\n      case 1977:\r\n        retef = retef * 0;\r\n        break;\r\n    }\r\n\r\n    return retef;\r\n    //GUARDAR LA RETEFUENTE EN RECAUDO A TERCEROS\r\n  };\r\n\r\n  const calcularTerceros = (configuracion, VTotCuan) => {\r\n    //super\r\n    let VSuper;\r\n    if (VTotCuan == 0) {\r\n      VSuper = configuracion.super1;\r\n    } else if (\r\n      VTotCuan > configuracion.tope1 &&\r\n      VTotCuan <= configuracion.tope2\r\n    ) {\r\n      VSuper = configuracion.super2;\r\n    } else if (\r\n      VTotCuan > configuracion.tope2 &&\r\n      VTotCuan <= configuracion.tope3\r\n    ) {\r\n      VSuper = configuracion.super3;\r\n    } else if (\r\n      VTotCuan > configuracion.tope3 &&\r\n      VTotCuan <= configuracion.tope4\r\n    ) {\r\n      VSuper = configuracion.super4;\r\n    } else if (\r\n      VTotCuan > configuracion.tope4 &&\r\n      VTotCuan <= configuracion.tope5\r\n    ) {\r\n      VSuper = configuracion.super5;\r\n    } else if (\r\n      VTotCuan > configuracion.tope5 &&\r\n      VTotCuan <= configuracion.tope6\r\n    ) {\r\n      VSuper = configuracion.super6;\r\n    } else {\r\n      VSuper = configuracion.super7;\r\n    }\r\n\r\n    return VSuper;\r\n  };\r\n\r\n  const calcularImpDepartamental = (\r\n    configuracion,\r\n    cuantia,\r\n    bolfis,\r\n    porcentaje\r\n  ) => {\r\n    let TotImpDepar;\r\n    if (bolfis == \"M\") {\r\n      TotImpDepar = configuracion.minima;\r\n    } else if (bolfis == \"S\") {\r\n      TotImpDepar = configuracion.base0;\r\n      if (1 <= cuantia <= configuracion.tope1) {\r\n        TotImpDepar += cuantia * configuracion.base1;\r\n      } else if (configuracion.tope1 < cuantia <= configuracion.tope2) {\r\n        TotImpDepar += cuantia * configuracion.base2;\r\n      } else if (configuracion.tope2 < cuantia) {\r\n        TotImpDepar += cuantia * configuracion.base3;\r\n      }\r\n    }\r\n    TotImpDepar = TotImpDepar * porcentaje;\r\n\r\n    return parseFloat(TotImpDepar.toFixed(2));\r\n  };\r\n\r\n  const calcularImpRegistro = (\r\n    configuracion,\r\n    cuantia,\r\n    registro,\r\n    porcentaje\r\n  ) => {\r\n    let TotimpReg;\r\n    if (registro == \"M\") {\r\n      TotimpReg = configuracion.minima;\r\n    } else if (registro == \"S\") {\r\n      if (configuracion.tope1 >= cuantia) {\r\n        TotimpReg = configuracion.base0;\r\n      } else if (configuracion.tope1 < cuantia <= configuracion.tope2) {\r\n        TotimpReg = cuantia * configuracion.base1;\r\n      } else if (configuracion.tope2 < cuantia <= configuracion.tope3) {\r\n        TotimpReg = cuantia * configuracion.base2;\r\n      } else if (configuracion.tope3 < cuantia <= configuracion.tope4) {\r\n        TotimpReg = cuantia * configuracion.base3;\r\n      } else if (configuracion.tope4 < cuantia) {\r\n        TotimpReg = cuantia * configuracion.base4;\r\n      }\r\n    }\r\n    TotimpReg = TotimpReg * porcentaje;\r\n\r\n    return parseFloat(TotimpReg.toFixed(2));\r\n  };\r\n\r\n  const enviarData = () => {\r\n    setLoadingSend(true);\r\n    axios\r\n      .put(\r\n        process.env.REACT_APP_URL_API + \"/api/liquidaciones/\" + id_radi,\r\n        dataSend\r\n      )\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          message.success(\"Datos enviados correctamente\");\r\n        } else {\r\n          \r\n          message.error(\"Ha ocurrido un error\");\r\n        }\r\n        if(setState){\r\n\r\n          setState(\"facturacion\");\r\n        }\r\n        setLoadingSend(false);\r\n      });\r\n  };\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key == \"Enter\") {\r\n      alert(\"Enter clicked!!!\");\r\n    }\r\n  };\r\n\r\n  function imprimir() {\r\n    setLoadingPrint(true);\r\n\r\n    let config = {\r\n      method: \"get\",\r\n      url:\r\n        \"https://notadev.sinfony.com.co/desarrollo/api/pdfLiquidacion?numero_radicacion=\" +\r\n        numRad,\r\n    };\r\n\r\n    const consultar = async () => {\r\n      await axios(config)\r\n        .then((response) => {\r\n          if (response.status == 201 || response.status == 200) {\r\n            setData(response.data);\r\n            setPrev(false);\r\n            setPrev(true);\r\n\r\n            /* download() */\r\n            handlePrint();\r\n            hidePrint();\r\n\r\n            /* return(\r\n                    <div>\r\n                            <PDF dataFromParent={response.data} ref={componentRef} />\r\n                        </div>\r\n                    ) */\r\n            /* ReactDOM.render(element, document.getElementById('root')); */\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          setLoadingPrint(false);\r\n        });\r\n    };\r\n\r\n    consultar();\r\n  }\r\n\r\n  const hidePrint = () => {\r\n    setPrev(false);\r\n    setLoadingPrint(false);\r\n    return <div></div>;\r\n  };\r\n\r\n  /* function download(){\r\n        \r\n\r\n        const input = document.getElementById('print');\r\n        const pdf = new jsPDF();\r\n        if (pdf) {\r\n          domtoimage.toPng(input)\r\n            .then(imgData => {\r\n              pdf.addImage(imgData, 'PNG', 10, 10, 200,300);\r\n              pdf.save('download.pdf');\r\n              hidePrint()\r\n            });\r\n        }\r\n    \r\n        \r\n    } */\r\n  useEffect(() => {\r\n    liquidacion(id);\r\n  }, []);\r\n\r\n  const liquidacion = (idRad) => {\r\n    setLoading(true);\r\n    let num_rad;\r\n    if (typeof idRad === \"number\") {\r\n      num_rad = idRad;\r\n    } else {\r\n      num_rad = numRad;\r\n    }\r\n\r\n    setNumRad(num_rad);\r\n    let config = {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": true,\r\n      },\r\n    };\r\n    axios\r\n      .get(\r\n        process.env.REACT_APP_URL_API +\r\n        \"/api/liquidacionRadi?numero_radicacion=\" +\r\n        num_rad,\r\n        config\r\n      )\r\n      .then((response) => {\r\n        setLoading(false);\r\n        let id_radi = response.data.derechos_notariales[0].id_radicacion;\r\n        setId_radi(id_radi);\r\n        \r\n\r\n        //propiedades de la liquidacion\r\n        let sendData = [];\r\n        var data = [];\r\n        var data_recTer = [];\r\n        var VTotCuan = 0;\r\n        var retef = 0;\r\n        var TotDerNot = 0;\r\n        var TotOtros = 0;\r\n        var TotIva = 0;\r\n        var liq_json;\r\n        var data_json;\r\n        let data_derReg = [];\r\n        let index;\r\n\r\n        //recaudo a terceros\r\n        let TotSup = 0;\r\n\r\n        //derechos registrales\r\n        let TotImpDepar = 0;\r\n        let TotimpReg = 0;\r\n        ////////////////////////////////////////////////////// ITERAR POR DERECHOS NOTARIALES ///////////////////////////////////////////////\r\n        response.data.derechos_notariales.forEach((element) => {\r\n          //liquidar derechos notariales\r\n          if (element.tipo_liquidacion == \"derecho_notarial\") {\r\n            var precio_liquidacion = element.precio_total;\r\n            var iva_derNot = element.iva;\r\n            var tot_derNot = precio_liquidacion + iva_derNot;\r\n            var cuantia = element.acto.cuantia;\r\n            var data_recTer = [];\r\n            VTotCuan = VTotCuan + cuantia; //guardar la suma de la cuantia para todos los actos\r\n            //evaluar si el acto ya esta liquidado\r\n            if (element.id == null) {\r\n              let tipLiq = element.acto.id_tarifa;\r\n              let avaluo = element.acto.avaluo;\r\n              // decidir si el calculo se hace con la cuantia o con el avaluo\r\n              if (avaluo > cuantia) {\r\n                var cuanti_derec = avaluo;\r\n                \r\n              } else {\r\n                var cuanti_derec = cuantia;\r\n              }\r\n\r\n              // cuando un acto viene sin cuantia y cualquier tipo liquidacion diferente de 01, se toma como 01\r\n              if (tipLiq == \"02\" && (cuantia == 0 || cuantia == null)) {\r\n                tipLiq = \"01\";\r\n\r\n                ///si este caso ocurre mirar si toca cambiar la configuracion\r\n              }\r\n\r\n              //////////////////////////////////////////////////////// se liquida el valor del acto segun su tipo ////////////////////////////////////////////////////////////////////////////////////////\r\n              precio_liquidacion = liquidar_acto(cuanti_derec, element);\r\n              ////////////////////////// aporte especial fondo\r\n              if (precio_liquidacion > element.topesliq.tope1) {\r\n                let temp_apesfo;\r\n                if (element.exento == 1) {\r\n                  alert(\"el otorgante es entidad exenta\");\r\n                  temp_apesfo =\r\n                    apesfo + (precio_liquidacion - element.topesliq.tope1);\r\n                  precio_liquidacion = element.topesliq.tope1;\r\n\r\n                  setApesfo(temp_apesfo);\r\n                } else if (precio_liquidacion > element.topesliq.tope2) {\r\n                  temp_apesfo =\r\n                    apesfo + (precio_liquidacion - element.topesliq.tope2);\r\n                  precio_liquidacion = element.topesliq.tope2;\r\n\r\n                  setApesfo(temp_apesfo);\r\n                }\r\n              }\r\n\r\n              //calcular iva de los derechos notariales\r\n              iva_derNot = precio_liquidacion * 0.19;\r\n              iva_derNot = parseFloat(iva_derNot.toFixed(2));\r\n              TotIva += iva_derNot;\r\n              tot_derNot = iva_derNot + precio_liquidacion;\r\n\r\n              /////////////////////////////////////////////////////////////////RECAUDO A TERCEROS////////////////////////////////////////////////////////////////////////////\r\n              ///////////////////////////////////////////////// calcular retefuente /\r\n              element.acto.otorgantes.forEach((otorgante) => {\r\n                if (otorgante.tipo_organizacion == \"Persona Natural\") {\r\n                  let partici = cuantia * otorgante.porcentaje_participacion; //participacion del otorgante en el total de la cuantia\r\n                  retef = retef + retefuente(element, partici);\r\n                }\r\n              });\r\n\r\n              if (retef !== 0) {\r\n                //guardar total\r\n                TotDerNot += retef;\r\n\r\n                // se arma el json que se el va retornar al servidor con los datos actualizados\r\n                let retef_precio = FormatearNum(retef);\r\n                liq_json = {\r\n                  id: null,\r\n                  id_items_liquidaciones: response.data.idretef,\r\n                  id_radicacion:\r\n                    response.data.derechos_notariales[0].id_radicacion,\r\n                  precio_total: retef, //valor calculado\r\n                  cantidad: 1,\r\n                  iva: null,\r\n                  tipo_liquidacion: \"recaudo_terceros\",\r\n                  cantidad_comprador: 0,\r\n                  cantidad_vendedor: 1,\r\n                  id_actos: null,\r\n                };\r\n                //data para mostrar en la tabla\r\n                var data_retef = {\r\n                  Tot: 1,\r\n                  Com: 0,\r\n                  Ven: 1,\r\n                  Detalle: \"Retefuente\",\r\n                  Total: retef_precio,\r\n                  Valor: null,\r\n                  IVA: null,\r\n                };\r\n                index = sendData.findIndex(\r\n                  (element) => element.id_items_liquidaciones === 22\r\n                );\r\n                sendData[index] = liq_json;\r\n\r\n                index = data_recTer.findIndex(\r\n                  (element) => element.Detalle === \"Retefuente\"\r\n                );\r\n                data_recTer[index] = data_retef;\r\n                // sendData.push(liq_json);\r\n                // data_recTer.push(data_retef);\r\n              }\r\n\r\n              //calcular super y fondo\r\n              let VSuper = calcularTerceros(\r\n                response.data.configuracion,\r\n                VTotCuan\r\n              );\r\n              TotSup += VSuper;\r\n              TotOtros += TotSup * 2;\r\n              let VSuper_precio = FormatearNum(TotSup);\r\n              // se arma el json que se el va retornar al servidor con los datos actualizados\r\n              liq_json = {\r\n                id: null,\r\n                id_items_liquidaciones: response.data.idsup,\r\n                id_radicacion:\r\n                  response.data.derechos_notariales[0].id_radicacion,\r\n                precio_total: TotSup, //valor calculado\r\n                cantidad: 1,\r\n                iva: null,\r\n                tipo_liquidacion: \"recaudo_terceros\",\r\n                cantidad_comprador: 0.5,\r\n                cantidad_vendedor: 0.5,\r\n                id_actos: null,\r\n              };\r\n              index = sendData.findIndex(\r\n                (element) => element.id_items_liquidaciones === 20\r\n              );\r\n              if (index === -1) {\r\n                sendData.push(liq_json);\r\n              } else {\r\n                sendData[index] = liq_json;\r\n              }\r\n              // sendData.push(liq_json);\r\n              //visualizar datos en la vista\r\n              let data_sup = {\r\n                Tot: 1,\r\n                Com: 0.5,\r\n                Ven: 0.5,\r\n                Detalle: \"superintendencia de Notariado\",\r\n                Total: VSuper_precio,\r\n                Valor: null,\r\n                IVA: null,\r\n              };\r\n              index = data.findIndex(\r\n                (element) => element.Detalle === \"superintendencia de Notariado\"\r\n              );\r\n              if (index === -1) {\r\n                data_recTer.push(data_sup);\r\n              } else {\r\n                data[index] = data_sup;\r\n              } // data_recTer.push(data_sup);\r\n\r\n              // se arma el json que se el va retornar al servidor con los datos actualizados\r\n              liq_json = {\r\n                id: null,\r\n                id_items_liquidaciones: response.data.idfon,\r\n                id_radicacion:\r\n                  response.data.derechos_notariales[0].id_radicacion,\r\n                precio_total: TotSup, //valor calculado\r\n                cantidad: 1,\r\n                iva: null,\r\n                tipo_liquidacion: \"recaudo_terceros\",\r\n                cantidad_comprador: 0.5,\r\n                cantidad_vendedor: 0.5,\r\n                id_actos: null,\r\n              };\r\n              index = sendData.findIndex(\r\n                (element) => element.id_items_liquidaciones === 21\r\n              );\r\n              if (index === -1) {\r\n                sendData.push(liq_json);\r\n              } else {\r\n                sendData[index] = liq_json;\r\n              }\r\n              // sendData.push(liq_json);\r\n              //visualizar los datos en la vista\r\n              let data_fon = {\r\n                Tot: 1,\r\n                Com: 0.5,\r\n                Ven: 0.5,\r\n                Detalle: \"Fondo Nacional de Notariado\",\r\n                Total: VSuper_precio,\r\n                Valor: null,\r\n                IVA: null,\r\n              };\r\n              index = data.findIndex(\r\n                (element) => element.Detalle === \"Fondo Nacional de Notariado\"\r\n              );\r\n              if (index === -1) {\r\n                data_recTer.push(data_fon);\r\n              } else {\r\n                data[index] = data_fon;\r\n              }\r\n              // data_recTer.push(data_fon);\r\n\r\n              //////////////////////////////////////////////////derechos registrales/////////////////////////////////////////////////////////////////////////\r\n              //CALCULAR IMPUESTO DEPARTAMENTALES\r\n              let boleta = element.acto.bolfis;\r\n              let porcentaje_bolfis = element.acto.porcentaje_bolfis;\r\n              let precio_total = calcularImpDepartamental(\r\n                response.data.derechos_registrales[0],\r\n                cuantia,\r\n                boleta,\r\n                porcentaje_bolfis\r\n              );\r\n              TotImpDepar += precio_total;\r\n              let impdeparFormat = FormatearNum(TotImpDepar);\r\n              // se arma el json que se el va retornar al servidor con los datos actualizados\r\n              liq_json = {\r\n                id: response.data.derechos_registrales[0].id,\r\n                id_items_liquidaciones:\r\n                  response.data.derechos_registrales[0].id_items_liquidaciones,\r\n                id_radicacion: element.id_radicacion,\r\n                precio_total: TotImpDepar, //valor calculado\r\n                cantidad: 1,\r\n                iva: null,\r\n                tipo_liquidacion:\r\n                  response.data.derechos_registrales[0].tipo_liquidacion,\r\n                cantidad_comprador: 0.5,\r\n                cantidad_vendedor: 0.5,\r\n                id_actos: element.id_actos,\r\n              };\r\n              index = sendData.findIndex(\r\n                (element) => element.id_items_liquidaciones === 40\r\n              );\r\n              if (index === -1) {\r\n                sendData.push(liq_json);\r\n              } else {\r\n                sendData[index] = liq_json;\r\n              }\r\n              // sendData.push(liq_json);\r\n              //visualizar datos en la vista\r\n              let data_json = {\r\n                Tot: 1,\r\n                Com: 0.5,\r\n                Ven: 0.5,\r\n                Detalle: response.data.derechos_registrales[0].detalle,\r\n                Total: impdeparFormat,\r\n                Valor: impdeparFormat,\r\n              };\r\n              index = data_derReg.findIndex(\r\n                (element) => element.Detalle === \"Impuestos departamentales\"\r\n              );\r\n              if (index === -1) {\r\n                data_derReg.push(data_json);\r\n              } else {\r\n                data_derReg[index] = data_json;\r\n              }\r\n              // data_derReg.push(data_json);\r\n\r\n              //CALCULAR IMPUESTO REGISTROS\r\n              let registro = element.acto.registro;\r\n              let porcentaje_registro = element.acto.porcentaje_registro;\r\n              let Impreg = calcularImpRegistro(\r\n                response.data.derechos_registrales[1],\r\n                cuantia,\r\n                registro,\r\n                porcentaje_registro\r\n              );\r\n              TotimpReg += Impreg;\r\n              let impregFormat = FormatearNum(TotimpReg);\r\n              // se arma el json que se el va retornar al servidor con los datos actualizados\r\n              liq_json = {\r\n                id: response.data.derechos_registrales[1].id,\r\n                id_items_liquidaciones:\r\n                  response.data.derechos_registrales[1].id_items_liquidaciones,\r\n                id_radicacion: element.id_radicacion,\r\n                precio_total: TotimpReg, //valor calculado\r\n                cantidad: 1,\r\n                iva: null,\r\n                tipo_liquidacion:\r\n                  response.data.derechos_registrales[1].tipo_liquidacion,\r\n                cantidad_comprador: 0.5,\r\n                cantidad_vendedor: 0.5,\r\n                id_actos: element.id_actos,\r\n              };\r\n              index = sendData.findIndex(\r\n                (element) => element.id_items_liquidaciones === 41\r\n              );\r\n              if (index === -1) {\r\n                sendData.push(liq_json);\r\n              } else {\r\n                sendData[index] = liq_json;\r\n              }\r\n              // sendData.push(liq_json);\r\n              //visualizar datos en la vista\r\n              let data_regis = {\r\n                Tot: 1,\r\n                Com: 0.5,\r\n                Ven: 0.5,\r\n                Detalle: response.data.derechos_registrales[1].detalle,\r\n                Total: impregFormat,\r\n                Valor: impregFormat,\r\n              };\r\n              index = data_derReg.findIndex(\r\n                (element) => element.Detalle === \"Impuesto de registro\"\r\n              );\r\n              if (index === -1) {\r\n                data_derReg.push(data_regis);\r\n              } else {\r\n                data_derReg[index] = data_regis;\r\n              }\r\n              // data_derReg.push(data_regis);\r\n            }\r\n            //guardar el total\r\n            // TotDerNot += precio_liquidacion;\r\n            let precio = FormatearNum(precio_liquidacion);\r\n            let tot_derNotFormat = FormatearNum(tot_derNot);\r\n            let iva_precio = FormatearNum(iva_derNot);\r\n            // se arma el json que se el va retornar al servidor con los datos actualizados\r\n            liq_json = {\r\n              id: element.id,\r\n              id_items_liquidaciones: element.id_items_liquidaciones,\r\n              id_radicacion: element.id_radicacion,\r\n              precio_total: precio_liquidacion, //valor calculado\r\n              cantidad: 1,\r\n              iva: iva_derNot,\r\n              tipo_liquidacion: element.tipo_liquidacion,\r\n              cantidad_comprador: 0.5,\r\n              cantidad_vendedor: 0.5,\r\n              id_actos: element.acto.id,\r\n            };\r\n            sendData.push(liq_json);\r\n\r\n            //data para mostrar en la tabla\r\n            data_json = {\r\n              Tot: 1,\r\n              Com: 0.5,\r\n              Ven: 0.5,\r\n              Detalle: element.detalle,\r\n              Total: tot_derNotFormat,\r\n              Valor: precio,\r\n              IVA: iva_precio,\r\n              tipo_liquidacion: element.tipo_liquidacion,\r\n              id_items_liquidaciones: element.id_items_liquidaciones,\r\n            };\r\n            index = data.findIndex(\r\n              (element) => element.tipo_liquidacion === \"derecho_notarial\"\r\n            );\r\n            data.splice(index, 0, data_json);\r\n            // data.push(data_json);\r\n            data = data.concat(data_recTer);\r\n          }\r\n\r\n          //liquidar servivicios adicionales\r\n          else if (element.tipo_liquidacion == \"servicio_adicional\") {\r\n            // se arma el json que se el va retornar al servidor con los datos actualizados\r\n            let serAdi = FormatearNum(element.precio_total);\r\n            let iva_add = element.precio_total * 0.19;\r\n            let serAdiIva = FormatearNum(iva_add);\r\n            let serAdiTot = FormatearNum(iva_add + element.precio_total);\r\n            let liq_json = {\r\n              id: element.id,\r\n              id_items_liquidaciones: element.id_items_liquidaciones,\r\n              id_radicacion: element.id_radicacion,\r\n              precio_total: element.precio_total,\r\n              cantidad: element.cantidad,\r\n              iva: iva_add,\r\n              tipo_liquidacion: element.tipo_liquidacion,\r\n              cantidad_comprador: element.cantidad_comprador,\r\n              cantidad_vendedor: element.cantidad_vendedor,\r\n              id_actos: null,\r\n            };\r\n            sendData.push(liq_json);\r\n            //data para mostrar en la tabla\r\n            data_json = {\r\n              Tot: element.cantidad,\r\n              Com: element.cantidad_comprador,\r\n              Ven: element.cantidad_vendedor,\r\n              Detalle: element.detalle,\r\n              Total: serAdiTot,\r\n              Valor: serAdi,\r\n              IVA: serAdiIva,\r\n              tipo_liquidacion: element.tipo_liquidacion,\r\n              valor_uni: element.valor_unitario,\r\n              id_items_liquidaciones: element.id_items_liquidaciones,\r\n              editable: element.editable,\r\n            };\r\n            //guardar total\r\n            TotDerNot += element.precio_total;\r\n            TotIva += iva_add;\r\n\r\n            index = data.findIndex(\r\n              (element) => element.Detalle === \"Retefuente\"\r\n            );\r\n            data.splice(index, 0, data_json);\r\n          }\r\n\r\n          //Recaudos a terceros traidos de la base de datos\r\n          else if (element.tipo_liquidacion == \"recaudo_terceros\") {\r\n            let VSuper = element.precio_total;\r\n            TotOtros += VSuper * 2;\r\n            let VSuper_precio = FormatearNum(VSuper);\r\n            liq_json = {\r\n              id: element.id,\r\n              id_items_liquidaciones: element.id_items_liquidaciones,\r\n              id_radicacion: element.id_radicacion,\r\n              precio_total: element.precio_total, //valor calculado\r\n              cantidad: element.cantidad,\r\n              iva: element.iva,\r\n              tipo_liquidacion: element.tipo_liquidacion,\r\n              cantidad_comprador: element.cantidad_comprador,\r\n              cantidad_vendedor: element.cantidad_vendedor,\r\n              id_actos: null,\r\n            };\r\n\r\n            //data para mostrar en la tabla\r\n            var data_recTer = {\r\n              Tot: element.cantidad,\r\n              Com: element.cantidad_comprador,\r\n              Ven: element.cantidad_vendedor,\r\n              Detalle: element.detalle,\r\n              Total: VSuper_precio,\r\n              Valor: element.valor_uni,\r\n              IVA: element.iva,\r\n              editable: element.editable,\r\n              tipo_liquidacion: element.tipo,\r\n              id_items_liquidaciones: element.id_items_liquidaciones,\r\n            };\r\n            sendData.push(liq_json);\r\n            data.push(data_recTer);\r\n          }\r\n        });\r\n\r\n        ////////////////////////////////////////////////////// ITERAR POR DERECHOS REGISTRALES ///////////////////////////////////////////////\r\n        response.data.derechos_registrales.forEach((element) => {\r\n          if (element.base0 === undefined) {\r\n            let precio_total = element.precio_total;\r\n            let impdeparFormat = FormatearNum(precio_total);\r\n            // se arma el json que se el va retornar al servidor con los datos actualizados\r\n            liq_json = {\r\n              id: element.id,\r\n              id_items_liquidaciones: element.id_items_liquidaciones,\r\n              id_radicacion: element.id_radicacion,\r\n              precio_total: precio_total, //valor calculado\r\n              cantidad: element.cantidad,\r\n              iva: element.iva,\r\n              tipo_liquidacion: element.tipo_liquidacion,\r\n              cantidad_comprador: element.cantidad_comprador,\r\n              cantidad_vendedor: element.cantidad_vendedor,\r\n              id_actos: element.id_actos,\r\n            };\r\n            sendData.push(liq_json);\r\n            //visualizar datos en la vista\r\n            let data_json = {\r\n              Tot: element.cantidad,\r\n              Com: element.cantidad_comprador,\r\n              Ven: element.cantidad_vendedor,\r\n              Detalle: element.detalle,\r\n              Total: impdeparFormat,\r\n              Valor: impdeparFormat,\r\n              tipo_liquidacion: element.tipo_liquidacion,\r\n              valor_uni: element.valor_unitario,\r\n              id_items_liquidaciones: element.id_items_liquidaciones,\r\n            };\r\n            data_derReg.push(data_json);\r\n          }\r\n        });\r\n        //actualizar datos para enviar al servidor\r\n        setdataSend(sendData);\r\n        //actualizar los datos de la tabla de derechos notariales con su liquidacion y servicion adicionales\r\n        setTableNot(data);\r\n        //actualizar los datos de la tabla para los derechos registrales\r\n        setTableDer(data_derReg);\r\n        let total_liq = TotDerNot + TotIva + TotOtros;\r\n        setTotales({\r\n          ...Totales,\r\n          TotDer: TotDerNot,\r\n          iva: TotIva,\r\n          TotOtros: TotOtros,\r\n          TotLiq: total_liq,\r\n        });\r\n        //\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n      })\r\n  };\r\n\r\n  const [checked, setChecked] = React.useState([24, 22]);\r\n  const handleToggle = (value) => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n    setChecked(newChecked);\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <Spin spinning={loadingSend}>\r\n        <CardHeader color=\"primary\" text>\r\n          <CardText className={classes.cardText} color=\"primary\">\r\n            <h4 className={classes.colorWhite}> Liquidar Escritura </h4>\r\n          </CardText>\r\n        </CardHeader>\r\n        <CardBody>\r\n          <form>\r\n            <GridContainer direction=\"row\" justify=\"flex-end\">\r\n              <GridItem\r\n                style={{\r\n                  marginRight: \"100px\",\r\n                  backgroundColor: \"#f2f2f2\",\r\n                  border: \"1px solid black\",\r\n                }}\r\n              >\r\n                <FormLabel style={{ fontSize: \"20px\" }}>\r\n                  Radicacin Nro. {id ? id : \"\"}\r\n                </FormLabel>\r\n                {!id && (\r\n                  <>\r\n                    <CustomInput\r\n                      id=\"Radicacion\"\r\n                      formControlProps={{}}\r\n                      inputProps={{\r\n                        type: \"text\",\r\n                        value: numRad,\r\n                        onChange: handleNumRad,\r\n                      }}\r\n                      helpText=\"A block of help text that breaks onto a new line.\"\r\n                      onPressEnter={liquidacion}\r\n                    />\r\n                    {/* </GridItem>\r\n                              <GridItem> */}\r\n                    <Button\r\n                      justIcon\r\n                      color=\"rose\"\r\n                      className={classes.marginRight}\r\n                      onClick={liquidacion}\r\n                    >\r\n                      <span className=\"material-icons\">search</span>\r\n                    </Button>\r\n                  </>\r\n                )}\r\n              </GridItem>\r\n            </GridContainer>\r\n          </form>\r\n          <GridContainer>\r\n            <GridItem xs={8}>\r\n              <div className={classes.cardHeader}>\r\n                <h3 className={classes.cardTitle}>\r\n                  Derechos notariales y recaudo\r\n                </h3>\r\n              </div>\r\n              <>\r\n                <Tables\r\n                  columns={columnsNot}\r\n                  dataSource={tableNot}\r\n                  set={setTableNot}\r\n                  dataSend={dataSend}\r\n                  setSend={setdataSend}\r\n                  loading={loading}\r\n                />\r\n              </>\r\n            </GridItem>\r\n            <GridItem xs={4} direction=\"row\" style={{ marginTop: \"30px\" }}>\r\n              <div>\r\n                <Add_servicio\r\n                  data={tableNot}\r\n                  set={setTableNot}\r\n                  dataSend={dataSend}\r\n                  setSend={setdataSend}\r\n                />\r\n                <table style={{ width: 250, height: 150, textAlign: \"right\" }}>\r\n                  <tr>\r\n                    <td>Total Derechos</td>\r\n                    <td id=\"TotDer\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td text-align=\"right\">Total IVA</td>\r\n                    <td id=\"TotIva\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td text-align=\"right\">Otros</td>\r\n                    <td id=\"TotOtr\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td text-align=\"right\">\r\n                      <b>Total Liquidacin</b>\r\n                    </td>\r\n                    <td id=\"TotLiq\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n              </div>\r\n            </GridItem>\r\n          </GridContainer>\r\n          <GridContainer style={{ padding: 20 }}>\r\n            <GridItem xs={8}>\r\n              <div className={classes.cardHeader}>\r\n                <h3 className={classes.cardTitle}>Derechos registrales</h3>\r\n              </div>\r\n              <>\r\n                <TablesRegistrales\r\n                  columns={columnsDer}\r\n                  dataSource={tableDer}\r\n                  set={setTableDer}\r\n                  dataSend={dataSend}\r\n                  setSend={setdataSend}\r\n                  loading={loading}\r\n                />\r\n              </>\r\n            </GridItem>\r\n            <GridItem xs={4} direction=\"row\" style={{ marginTop: \"30px\" }}>\r\n              <div>\r\n                {/* <Button   \r\n                                    justIcon\r\n                                    color=\"primary\"\r\n                                    className={classesButton.marginRight}>\r\n                                    <span class=\"material-icons\">\r\n                                        library_add\r\n                                    </span>\r\n                                </Button> */}\r\n                <Add_registro\r\n                  data={tableDer}\r\n                  set={setTableDer}\r\n                  dataSend={dataSend}\r\n                  setSend={setdataSend}\r\n                />\r\n                <table style={{ width: 320, height: 200, textAlign: \"right\" }}>\r\n                  <tr>\r\n                    <td></td>\r\n                    <td>Vendedor</td>\r\n                    <td>Comprador</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <b>Total Notaria</b>\r\n                    </td>\r\n                    <td id=\"TotNotVen\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                    <td id=\"TotNotCom\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td text-align=\"right\">Total imp. dptal</td>\r\n                    <td id=\"TotImpVen\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                    <td id=\"TotImpCom\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td text-align=\"right\">Total registro</td>\r\n                    <td id=\"TotRegVen\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                    <td id=\"TotRegCom\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td text-align=\"right\">\r\n                      <b>Total registrales</b>\r\n                    </td>\r\n                    <td id=\"TotRegisVen\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                    <td id=\"TotRegisCom\" style={{ background: \"#e6e6e6\" }}>\r\n                      $ 0\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td text-align=\"right\">\r\n                      <b>Totales CV</b>\r\n                    </td>\r\n                    <td id=\"TotCVVen\">$ 0</td>\r\n                    <td id=\"TotCVCom\">$ 0</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td text-align=\"right\">\r\n                      <b>Gran total</b>\r\n                    </td>\r\n                    <td id=\"GranTot\">$ 0</td>\r\n                    {/* <th style={{columnSpan:\"2\"}} style={{background:'#e6e6e6'}}>$ 0</th> */}\r\n                  </tr>\r\n                </table>\r\n              </div>\r\n            </GridItem>\r\n          </GridContainer>\r\n          <GridContainer justify=\"flex-end\" style={{ padding: 20 }}>\r\n            <div className={classes.cardContentLeft}>\r\n              {loadingPrint === false ? (\r\n                <Button color=\"rose\" onClick={imprimir}>\r\n                  IMPRIMIR\r\n                </Button>\r\n              ) : (\r\n                <Button disabled>\r\n                  <div>\r\n                    <center>\r\n                      <ReactLoading\r\n                        type={\"bubbles\"}\r\n                        color={\"#2d358c\"}\r\n                        height={\"20%\"}\r\n                        width={\"20%\"}\r\n                      />\r\n                    </center>\r\n                  </div>\r\n                </Button>\r\n              )}\r\n\r\n              <Button color=\"rose\" className={classes.marginRight}>\r\n                ENVIAR CORREO\r\n              </Button>\r\n\r\n              <Button\r\n                color=\"rose\"\r\n                className={classes.marginRight}\r\n                onClick={enviarData}\r\n              >\r\n                FINALIZAR\r\n              </Button>\r\n\r\n              {state === \"facturacion\" && (\r\n                <Button\r\n                  color=\"rose\"\r\n                  className={classes.marginRight}\r\n                  onClick={nextStep}\r\n                >\r\n                  FACTURAR\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </GridContainer>\r\n\r\n          {prev === true ? (\r\n            <GridContainer justify=\"flex-end\">\r\n              <div id=\"print\" className={classes.cardContentLeft}>\r\n                <PDF dataFromParent={data} ref={componentRef} />\r\n              </div>\r\n              {/* {hidePrint()} */}\r\n            </GridContainer>\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n        </CardBody>\r\n      </Spin>\r\n    </Card>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}