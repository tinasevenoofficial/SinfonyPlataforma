{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useSelector}from\"react-redux\";import{Table,Checkbox,message}from\"antd\";import axios from\"axios\";import\"antd/dist/antd.css\";import{EXTERNAL_API_PATHS}from\"../../utils/constants\";export default function Permisos(props){const{rol,allPermits,stateLoad}=props;const[loading,setLoading]=useState(false);const[data,setData]=useState([]);const[select,setSelect]=useState({ver:false,crear:false,modificar:false,eliminar:false});const auth=useSelector(state=>state.auth);const header={headers:{Authorization:`Bearer ${auth.token}`}};const columns=[{title:\"Nombre de la vista\",dataIndex:\"vista\",render(_,record){return{props:{style:{background:record.key%2===0?\"#fff\":\"#f1f1f1\"}},children:/*#__PURE__*/React.createElement(\"div\",null,record.vista)};}},{title:/*#__PURE__*/React.createElement(React.Fragment,null,\"Ver\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Checkbox,{checked:select.ver,onChange:e=>selectAll(e,\"ver\")})),dataIndex:\"ver\",align:\"center\",render:(_,record)=>{return{props:{style:{background:record.key%2===0?\"#fff\":\"#f1f1f1\"}},children:/*#__PURE__*/React.createElement(Checkbox,{checked:record.ver?record.ver.state:false,onChange:e=>onChangePermission(e,record.key,\"ver\")})};}},{title:/*#__PURE__*/React.createElement(React.Fragment,null,\"Crear\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Checkbox,{checked:select.crear,onChange:e=>selectAll(e,\"crear\")})),dataIndex:\"crear\",align:\"center\",render:(_,record)=>{return{props:{style:{background:record.key%2===0?\"#fff\":\"#f1f1f1\"}},children:/*#__PURE__*/React.createElement(Checkbox,{checked:record.crear?record.crear.state:false,onChange:e=>onChangePermission(e,record.key,\"crear\")})};}},{title:/*#__PURE__*/React.createElement(React.Fragment,null,\"Modificar\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Checkbox,{checked:select.modificar,onChange:e=>selectAll(e,\"modificar\")})),dataIndex:\"modificar\",align:\"center\",render:(_,record)=>{return{props:{style:{background:record.key%2===0?\"#fff\":\"#f1f1f1\"}},children:/*#__PURE__*/React.createElement(Checkbox,{checked:record.modificar?record.modificar.state:false,onChange:e=>onChangePermission(e,record.key,\"modificar\")})};}},{title:/*#__PURE__*/React.createElement(React.Fragment,null,\"Eliminar\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Checkbox,{checked:select.eliminar,onChange:e=>selectAll(e,\"eliminar\")})),dataIndex:\"eliminar\",align:\"center\",render:(_,record)=>{return{props:{style:{background:record.key%2===0?\"#fff\":\"#f1f1f1\"}},children:/*#__PURE__*/React.createElement(Checkbox,{checked:record.eliminar?record.eliminar.state:false,onChange:e=>onChangePermission(e,record.key,\"eliminar\")})};}}];const savePermit=(idPermiso,estado,index,perm)=>{const formData={id_rol:rol,id_permisos:idPermiso};stateLoad(\"load\");axios.post(EXTERNAL_API_PATHS[\"rolPermiso\"],formData,header).then(()=>{const newData=[...data];const item=newData[index];newData.splice(index,1,{...item,[perm]:{...item[perm],state:estado}});setData(newData);setSelect(sel=>({...sel,[perm]:newData.every(x=>x[perm]?x[perm].state===true:false)}));stateLoad(\"success\");}).catch(()=>{stateLoad(\"error\");});};const deletePermit=(id,estado,index,perm)=>{stateLoad(\"load\");axios.delete(`${EXTERNAL_API_PATHS[\"rolPermiso\"]}/${rol}?id_permisos=${id}`,header).then(()=>{const newData=[...data];const item=newData[index];newData.splice(index,1,{...item,[perm]:{...item[perm],state:estado}});setData(newData);setSelect(sel=>({...sel,[perm]:newData.every(x=>x[perm]?x[perm].state===true:false)}));stateLoad(\"success\");}).catch(()=>{stateLoad(\"error\");});};const onChangePermission=(e,key,perm)=>{try{const index=data.findIndex(item=>key===item.key);console.log(\"Llega\",e.target.checked,key,perm);if(index>-1){const item=data[index];if(e.target.checked){savePermit(item[perm].id,e.target.checked,index,perm);}else{deletePermit(item[perm].id,e.target.checked,index,perm);}}}catch(errInfo){message.error(`Error: ${errInfo}`);}};const selectAll=(e,perm)=>{try{stateLoad(\"load\");const check=e.target.checked;let dataUpdate=[];data.forEach(item=>{if(item[perm].state!==check){if(check){dataUpdate.push({id_rol:rol,id_permisos:item[perm].id,action:'create'});}else{dataUpdate.push({id_rol:rol,id_permisos:item[perm].id,action:'delete'});}}});let formData={array_permisos:dataUpdate};axios.post(`${EXTERNAL_API_PATHS[\"permisosRoles\"]}/${rol}`,formData,header).then(()=>{setData(()=>{const newData=[...data];data.forEach((_,i)=>{newData[i][perm]={...newData[i][perm],state:check};});return newData;});setSelect(sel=>({...sel,[perm]:check}));stateLoad(\"success\");});}catch(errInfo){message.error(`Error: ${errInfo}`);};};const setPermisos=permisos=>{const newAllPermits={};allPermits.map(permit=>{if(newAllPermits[permit.name]){newAllPermits[permit.name]={...newAllPermits[permit.name],[permit.action.toLowerCase()]:{state:permisos.includes(permit.id),id:permit.id}};console.log(\"verificando\",permisos.includes(permit.id),permit.id);}else{newAllPermits[permit.name]={...newAllPermits[permit.name],vista:permit.name,[permit.action.toLowerCase()]:{state:permisos.includes(permit.id),id:permit.id},key:Object.keys(newAllPermits).length+1};}});const permitsRol=Object.values(newAllPermits);setSelect(sel=>({...sel,ver:permitsRol.every(x=>x.ver?x.ver.state===true:false),crear:permitsRol.every(x=>x.crear?x.crear.state===true:false),modificar:permitsRol.every(x=>x.modificar?x.modificar.state===true:false),eliminar:permitsRol.every(x=>x.eliminar?x.eliminar.state===true:false)}));console.log(\"final:\",permitsRol,select);setData(permitsRol);};useEffect(()=>{if(rol){stateLoad(\"hide\");setLoading(true);axios.get(`${EXTERNAL_API_PATHS[\"rolPermiso\"]}/${rol}`,header).then(res=>{setPermisos(res.data);setLoading(false);}).catch(errInfo=>{message.error(`Error: ${errInfo}`);setPermisos([]);setLoading(false);});}},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Table,{columns:columns,loading:loading,dataSource:data,size:\"small\",scroll:{x:500},pagination:{pageSize:5}}));}","map":{"version":3,"names":["React","useState","useEffect","useSelector","Table","Checkbox","message","axios","EXTERNAL_API_PATHS","Permisos","props","rol","allPermits","stateLoad","loading","setLoading","data","setData","select","setSelect","ver","crear","modificar","eliminar","auth","state","header","headers","Authorization","token","columns","title","dataIndex","render","_","record","style","background","key","children","createElement","vista","Fragment","checked","onChange","e","selectAll","align","onChangePermission","savePermit","idPermiso","estado","index","perm","formData","id_rol","id_permisos","post","then","newData","item","splice","sel","every","x","catch","deletePermit","id","delete","findIndex","console","log","target","errInfo","error","check","dataUpdate","forEach","push","action","array_permisos","i","setPermisos","permisos","newAllPermits","map","permit","name","toLowerCase","includes","Object","keys","length","permitsRol","values","get","res","dataSource","size","scroll","pagination","pageSize"],"sources":["C:/Users/HUAWEI/Documents/GitHub/SinfonyPlataforma/src/views/Usuarios/Permisos.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Table, Checkbox, message } from \"antd\";\r\nimport PropTypes from \"prop-types\";\r\nimport axios from \"axios\";\r\nimport \"antd/dist/antd.css\";\r\nimport { EXTERNAL_API_PATHS } from \"../../utils/constants\";\r\n\r\nexport default function Permisos(props) {\r\n  const { rol, allPermits, stateLoad } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [select, setSelect] = useState({\r\n    ver: false,\r\n    crear: false,\r\n    modificar: false,\r\n    eliminar: false,\r\n  });\r\n\r\n  const auth = useSelector((state) => state.auth);\r\n  const header = {\r\n    headers: { Authorization: `Bearer ${auth.token}` },\r\n  };\r\n  const columns = [\r\n    {\r\n      title: \"Nombre de la vista\",\r\n      dataIndex: \"vista\",\r\n      render(_, record) {\r\n        return {\r\n          props: {\r\n            style: { background: record.key % 2 === 0 ? \"#fff\" : \"#f1f1f1\" },\r\n          },\r\n          children: <div>{record.vista}</div>,\r\n        };\r\n      },\r\n    },\r\n\r\n    {\r\n      title: (\r\n        <>\r\n          Ver\r\n          <br />\r\n          <Checkbox\r\n            checked={select.ver}\r\n            onChange={(e) => selectAll(e, \"ver\")}\r\n          />\r\n        </>\r\n      ),\r\n      dataIndex: \"ver\",\r\n      align: \"center\",\r\n      render: (_, record) => {\r\n        return {\r\n          props: {\r\n            style: { background: record.key % 2 === 0 ? \"#fff\" : \"#f1f1f1\" },\r\n          },\r\n          children: (\r\n            <Checkbox\r\n              checked={record.ver ? record.ver.state : false}\r\n              onChange={(e) => onChangePermission(e, record.key, \"ver\")}\r\n            />\r\n          ),\r\n        };\r\n      },\r\n    },\r\n    {\r\n      title: (\r\n        <>\r\n          Crear\r\n          <br />\r\n          <Checkbox\r\n            checked={select.crear}\r\n            onChange={(e) => selectAll(e, \"crear\")}\r\n          />\r\n        </>\r\n      ),\r\n      dataIndex: \"crear\",\r\n      align: \"center\",\r\n      render: (_, record) => {\r\n        return {\r\n          props: {\r\n            style: { background: record.key % 2 === 0 ? \"#fff\" : \"#f1f1f1\" },\r\n          },\r\n          children: (\r\n            <Checkbox\r\n              checked={record.crear ? record.crear.state : false}\r\n              onChange={(e) => onChangePermission(e, record.key, \"crear\")}\r\n            />\r\n          ),\r\n        };\r\n      },\r\n    },\r\n    {\r\n      title: (\r\n        <>\r\n          Modificar\r\n          <br />\r\n          <Checkbox\r\n            checked={select.modificar}\r\n            onChange={(e) => selectAll(e, \"modificar\")}\r\n          />\r\n        </>\r\n      ),\r\n      dataIndex: \"modificar\",\r\n      align: \"center\",\r\n      render: (_, record) => {\r\n        return {\r\n          props: {\r\n            style: { background: record.key % 2 === 0 ? \"#fff\" : \"#f1f1f1\" },\r\n          },\r\n          children: (\r\n            <Checkbox\r\n              checked={record.modificar ? record.modificar.state : false}\r\n              onChange={(e) => onChangePermission(e, record.key, \"modificar\")}\r\n            />\r\n          ),\r\n        };\r\n      },\r\n    },\r\n    {\r\n      title: (\r\n        <>\r\n          Eliminar\r\n          <br />\r\n          <Checkbox\r\n            checked={select.eliminar}\r\n            onChange={(e) => selectAll(e, \"eliminar\")}\r\n          />\r\n        </>\r\n      ),\r\n      dataIndex: \"eliminar\",\r\n      align: \"center\",\r\n      render: (_, record) => {\r\n        return {\r\n          props: {\r\n            style: { background: record.key % 2 === 0 ? \"#fff\" : \"#f1f1f1\" },\r\n          },\r\n          children: (\r\n            <Checkbox\r\n              checked={record.eliminar ? record.eliminar.state : false}\r\n              onChange={(e) => onChangePermission(e, record.key, \"eliminar\")}\r\n            />\r\n          ),\r\n        };\r\n      },\r\n    },\r\n  ];\r\n\r\n  const savePermit = (idPermiso, estado, index, perm) => {\r\n    const formData = {\r\n      id_rol: rol,\r\n      id_permisos: idPermiso,\r\n    };\r\n    stateLoad(\"load\");\r\n    axios\r\n      .post(EXTERNAL_API_PATHS[\"rolPermiso\"], formData, header)\r\n      .then(() => {\r\n        const newData = [...data];\r\n        const item = newData[index];\r\n        newData.splice(index, 1, {\r\n          ...item,\r\n          [perm]: { ...item[perm], state: estado },\r\n        });\r\n        setData(newData);\r\n        setSelect((sel) => ({\r\n          ...sel,\r\n          [perm]: newData.every((x) =>\r\n            x[perm] ? x[perm].state === true : false\r\n          ),\r\n        }));\r\n        stateLoad(\"success\");\r\n      })\r\n      .catch(() => {\r\n        stateLoad(\"error\");\r\n      });\r\n  };\r\n\r\n  const deletePermit = (id, estado, index, perm) => {\r\n    stateLoad(\"load\");\r\n    axios\r\n      .delete(\r\n        `${EXTERNAL_API_PATHS[\"rolPermiso\"]}/${rol}?id_permisos=${id}`,header)\r\n      .then(() => {\r\n        const newData = [...data];\r\n        const item = newData[index];\r\n        newData.splice(index, 1, {\r\n          ...item,\r\n          [perm]: { ...item[perm], state: estado },\r\n        });\r\n        setData(newData);\r\n        setSelect((sel) => ({\r\n          ...sel,\r\n          [perm]: newData.every((x) =>\r\n            x[perm] ? x[perm].state === true : false\r\n          ),\r\n        }));\r\n        stateLoad(\"success\");\r\n      })\r\n      .catch(() => {\r\n        stateLoad(\"error\");\r\n      });\r\n  };\r\n  const onChangePermission = (e, key, perm) => {\r\n    try {\r\n      const index = data.findIndex((item) => key === item.key);\r\n      console.log(\"Llega\", e.target.checked, key, perm);\r\n      if (index > -1) {\r\n        const item = data[index];\r\n        if (e.target.checked) {\r\n          savePermit(item[perm].id, e.target.checked, index, perm);\r\n        } else {\r\n          deletePermit(item[perm].id, e.target.checked, index, perm);\r\n        }\r\n      }\r\n    } catch (errInfo) {\r\n      message.error(`Error: ${errInfo}`);\r\n    }\r\n  };\r\n\r\n  const selectAll = (e, perm) => {\r\n    try {\r\n      stateLoad(\"load\");\r\n      const check = e.target.checked;\r\n      let dataUpdate = [];\r\n      data.forEach((item) => {\r\n        if (item[perm].state !== check) {\r\n          if(check){\r\n            dataUpdate.push({\r\n              id_rol: rol,\r\n              id_permisos: item[perm].id,\r\n              action: 'create'\r\n            })\r\n          }else{\r\n            dataUpdate.push({\r\n              id_rol: rol,\r\n              id_permisos: item[perm].id,\r\n              action: 'delete'\r\n            })            \r\n          }          \r\n        }\r\n      });\r\n      let formData = {\r\n        array_permisos: dataUpdate,\r\n      };\r\n      axios.post(\r\n        `${EXTERNAL_API_PATHS[\"permisosRoles\"]}/${rol}`,\r\n        formData,\r\n        header\r\n      ).then(() => {\r\n          setData(() => {\r\n            const newData = [...data];\r\n            data.forEach((_, i) => {\r\n              newData[i][perm] = { ...newData[i][perm], state: check };\r\n            });\r\n            return newData;\r\n          });\r\n          setSelect((sel) => ({ ...sel, [perm]: check }));\r\n          stateLoad(\"success\");            \r\n        });\r\n    }\r\n\r\n    catch(errInfo){\r\n      message.error(`Error: ${errInfo}`);\r\n    };\r\n\r\n  };\r\n\r\n  const setPermisos = (permisos) => {\r\n    const newAllPermits = {};\r\n    allPermits.map((permit) => {\r\n      if (newAllPermits[permit.name]) {\r\n        newAllPermits[permit.name] = {\r\n          ...newAllPermits[permit.name],\r\n          [permit.action.toLowerCase()]: {\r\n            state: permisos.includes(permit.id),\r\n            id: permit.id,\r\n          },\r\n        };\r\n        console.log(\"verificando\", permisos.includes(permit.id), permit.id);\r\n      } else {\r\n        newAllPermits[permit.name] = {\r\n          ...newAllPermits[permit.name],\r\n          vista: permit.name,\r\n          [permit.action.toLowerCase()]: {\r\n            state: permisos.includes(permit.id),\r\n            id: permit.id,\r\n          },\r\n          key: Object.keys(newAllPermits).length + 1,\r\n        };\r\n      }\r\n    });\r\n    const permitsRol = Object.values(newAllPermits);\r\n    setSelect((sel) => ({\r\n      ...sel,\r\n      ver: permitsRol.every((x) => (x.ver ? x.ver.state === true : false)),\r\n      crear: permitsRol.every((x) =>\r\n        x.crear ? x.crear.state === true : false\r\n      ),\r\n      modificar: permitsRol.every((x) =>\r\n        x.modificar ? x.modificar.state === true : false\r\n      ),\r\n      eliminar: permitsRol.every((x) =>\r\n        x.eliminar ? x.eliminar.state === true : false\r\n      ),\r\n    }));\r\n    console.log(\"final:\", permitsRol, select);\r\n    setData(permitsRol);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (rol) {\r\n      stateLoad(\"hide\");\r\n      setLoading(true);\r\n      axios\r\n        .get(`${EXTERNAL_API_PATHS[\"rolPermiso\"]}/${rol}`, header)\r\n        .then((res) => {\r\n          setPermisos(res.data);\r\n          setLoading(false);\r\n        })\r\n        .catch((errInfo) => {\r\n          message.error(`Error: ${errInfo}`);\r\n          setPermisos([]);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        columns={columns}\r\n        loading={loading}\r\n        dataSource={data}\r\n        size=\"small\"\r\n        scroll={{ x: 500 }}\r\n        pagination={{ pageSize: 5 }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nPermisos.propTypes = {\r\n  rol: PropTypes.number.isRequired,\r\n  allPermits: PropTypes.arrayOf().isRequired,\r\n  stateLoad: PropTypes.string.isRequired,\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,KAAK,CAAEC,QAAQ,CAAEC,OAAO,KAAQ,MAAM,CAE/C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,oBAAoB,CAC3B,OAASC,kBAAkB,KAAQ,uBAAuB,CAE1D,cAAe,SAAS,CAAAC,QAAQA,CAACC,KAAK,CAAE,CACtC,KAAM,CAAEC,GAAG,CAAEC,UAAU,CAAEC,SAAU,CAAC,CAAGH,KAAK,CAC5C,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACe,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACiB,MAAM,CAAEC,SAAS,CAAC,CAAGlB,QAAQ,CAAC,CACnCmB,GAAG,CAAE,KAAK,CACVC,KAAK,CAAE,KAAK,CACZC,SAAS,CAAE,KAAK,CAChBC,QAAQ,CAAE,KACZ,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAGrB,WAAW,CAAEsB,KAAK,EAAKA,KAAK,CAACD,IAAI,CAAC,CAC/C,KAAM,CAAAE,MAAM,CAAG,CACbC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUJ,IAAI,CAACK,KAAK,EAAG,CACnD,CAAC,CACD,KAAM,CAAAC,OAAO,CAAG,CACd,CACEC,KAAK,CAAE,oBAAoB,CAC3BC,SAAS,CAAE,OAAO,CAClBC,MAAMA,CAACC,CAAC,CAAEC,MAAM,CAAE,CAChB,MAAO,CACLzB,KAAK,CAAE,CACL0B,KAAK,CAAE,CAAEC,UAAU,CAAEF,MAAM,CAACG,GAAG,CAAG,CAAC,GAAK,CAAC,CAAG,MAAM,CAAG,SAAU,CACjE,CAAC,CACDC,QAAQ,cAAEvC,KAAA,CAAAwC,aAAA,YAAML,MAAM,CAACM,KAAW,CACpC,CAAC,CACH,CACF,CAAC,CAED,CACEV,KAAK,cACH/B,KAAA,CAAAwC,aAAA,CAAAxC,KAAA,CAAA0C,QAAA,MAAE,KAEA,cAAA1C,KAAA,CAAAwC,aAAA,UAAK,CAAC,cACNxC,KAAA,CAAAwC,aAAA,CAACnC,QAAQ,EACPsC,OAAO,CAAEzB,MAAM,CAACE,GAAI,CACpBwB,QAAQ,CAAGC,CAAC,EAAKC,SAAS,CAACD,CAAC,CAAE,KAAK,CAAE,CACtC,CACD,CACH,CACDb,SAAS,CAAE,KAAK,CAChBe,KAAK,CAAE,QAAQ,CACfd,MAAM,CAAEA,CAACC,CAAC,CAAEC,MAAM,GAAK,CACrB,MAAO,CACLzB,KAAK,CAAE,CACL0B,KAAK,CAAE,CAAEC,UAAU,CAAEF,MAAM,CAACG,GAAG,CAAG,CAAC,GAAK,CAAC,CAAG,MAAM,CAAG,SAAU,CACjE,CAAC,CACDC,QAAQ,cACNvC,KAAA,CAAAwC,aAAA,CAACnC,QAAQ,EACPsC,OAAO,CAAER,MAAM,CAACf,GAAG,CAAGe,MAAM,CAACf,GAAG,CAACK,KAAK,CAAG,KAAM,CAC/CmB,QAAQ,CAAGC,CAAC,EAAKG,kBAAkB,CAACH,CAAC,CAAEV,MAAM,CAACG,GAAG,CAAE,KAAK,CAAE,CAC3D,CAEL,CAAC,CACH,CACF,CAAC,CACD,CACEP,KAAK,cACH/B,KAAA,CAAAwC,aAAA,CAAAxC,KAAA,CAAA0C,QAAA,MAAE,OAEA,cAAA1C,KAAA,CAAAwC,aAAA,UAAK,CAAC,cACNxC,KAAA,CAAAwC,aAAA,CAACnC,QAAQ,EACPsC,OAAO,CAAEzB,MAAM,CAACG,KAAM,CACtBuB,QAAQ,CAAGC,CAAC,EAAKC,SAAS,CAACD,CAAC,CAAE,OAAO,CAAE,CACxC,CACD,CACH,CACDb,SAAS,CAAE,OAAO,CAClBe,KAAK,CAAE,QAAQ,CACfd,MAAM,CAAEA,CAACC,CAAC,CAAEC,MAAM,GAAK,CACrB,MAAO,CACLzB,KAAK,CAAE,CACL0B,KAAK,CAAE,CAAEC,UAAU,CAAEF,MAAM,CAACG,GAAG,CAAG,CAAC,GAAK,CAAC,CAAG,MAAM,CAAG,SAAU,CACjE,CAAC,CACDC,QAAQ,cACNvC,KAAA,CAAAwC,aAAA,CAACnC,QAAQ,EACPsC,OAAO,CAAER,MAAM,CAACd,KAAK,CAAGc,MAAM,CAACd,KAAK,CAACI,KAAK,CAAG,KAAM,CACnDmB,QAAQ,CAAGC,CAAC,EAAKG,kBAAkB,CAACH,CAAC,CAAEV,MAAM,CAACG,GAAG,CAAE,OAAO,CAAE,CAC7D,CAEL,CAAC,CACH,CACF,CAAC,CACD,CACEP,KAAK,cACH/B,KAAA,CAAAwC,aAAA,CAAAxC,KAAA,CAAA0C,QAAA,MAAE,WAEA,cAAA1C,KAAA,CAAAwC,aAAA,UAAK,CAAC,cACNxC,KAAA,CAAAwC,aAAA,CAACnC,QAAQ,EACPsC,OAAO,CAAEzB,MAAM,CAACI,SAAU,CAC1BsB,QAAQ,CAAGC,CAAC,EAAKC,SAAS,CAACD,CAAC,CAAE,WAAW,CAAE,CAC5C,CACD,CACH,CACDb,SAAS,CAAE,WAAW,CACtBe,KAAK,CAAE,QAAQ,CACfd,MAAM,CAAEA,CAACC,CAAC,CAAEC,MAAM,GAAK,CACrB,MAAO,CACLzB,KAAK,CAAE,CACL0B,KAAK,CAAE,CAAEC,UAAU,CAAEF,MAAM,CAACG,GAAG,CAAG,CAAC,GAAK,CAAC,CAAG,MAAM,CAAG,SAAU,CACjE,CAAC,CACDC,QAAQ,cACNvC,KAAA,CAAAwC,aAAA,CAACnC,QAAQ,EACPsC,OAAO,CAAER,MAAM,CAACb,SAAS,CAAGa,MAAM,CAACb,SAAS,CAACG,KAAK,CAAG,KAAM,CAC3DmB,QAAQ,CAAGC,CAAC,EAAKG,kBAAkB,CAACH,CAAC,CAAEV,MAAM,CAACG,GAAG,CAAE,WAAW,CAAE,CACjE,CAEL,CAAC,CACH,CACF,CAAC,CACD,CACEP,KAAK,cACH/B,KAAA,CAAAwC,aAAA,CAAAxC,KAAA,CAAA0C,QAAA,MAAE,UAEA,cAAA1C,KAAA,CAAAwC,aAAA,UAAK,CAAC,cACNxC,KAAA,CAAAwC,aAAA,CAACnC,QAAQ,EACPsC,OAAO,CAAEzB,MAAM,CAACK,QAAS,CACzBqB,QAAQ,CAAGC,CAAC,EAAKC,SAAS,CAACD,CAAC,CAAE,UAAU,CAAE,CAC3C,CACD,CACH,CACDb,SAAS,CAAE,UAAU,CACrBe,KAAK,CAAE,QAAQ,CACfd,MAAM,CAAEA,CAACC,CAAC,CAAEC,MAAM,GAAK,CACrB,MAAO,CACLzB,KAAK,CAAE,CACL0B,KAAK,CAAE,CAAEC,UAAU,CAAEF,MAAM,CAACG,GAAG,CAAG,CAAC,GAAK,CAAC,CAAG,MAAM,CAAG,SAAU,CACjE,CAAC,CACDC,QAAQ,cACNvC,KAAA,CAAAwC,aAAA,CAACnC,QAAQ,EACPsC,OAAO,CAAER,MAAM,CAACZ,QAAQ,CAAGY,MAAM,CAACZ,QAAQ,CAACE,KAAK,CAAG,KAAM,CACzDmB,QAAQ,CAAGC,CAAC,EAAKG,kBAAkB,CAACH,CAAC,CAAEV,MAAM,CAACG,GAAG,CAAE,UAAU,CAAE,CAChE,CAEL,CAAC,CACH,CACF,CAAC,CACF,CAED,KAAM,CAAAW,UAAU,CAAGA,CAACC,SAAS,CAAEC,MAAM,CAAEC,KAAK,CAAEC,IAAI,GAAK,CACrD,KAAM,CAAAC,QAAQ,CAAG,CACfC,MAAM,CAAE5C,GAAG,CACX6C,WAAW,CAAEN,SACf,CAAC,CACDrC,SAAS,CAAC,MAAM,CAAC,CACjBN,KAAK,CACFkD,IAAI,CAACjD,kBAAkB,CAAC,YAAY,CAAC,CAAE8C,QAAQ,CAAE5B,MAAM,CAAC,CACxDgC,IAAI,CAAC,IAAM,CACV,KAAM,CAAAC,OAAO,CAAG,CAAC,GAAG3C,IAAI,CAAC,CACzB,KAAM,CAAA4C,IAAI,CAAGD,OAAO,CAACP,KAAK,CAAC,CAC3BO,OAAO,CAACE,MAAM,CAACT,KAAK,CAAE,CAAC,CAAE,CACvB,GAAGQ,IAAI,CACP,CAACP,IAAI,EAAG,CAAE,GAAGO,IAAI,CAACP,IAAI,CAAC,CAAE5B,KAAK,CAAE0B,MAAO,CACzC,CAAC,CAAC,CACFlC,OAAO,CAAC0C,OAAO,CAAC,CAChBxC,SAAS,CAAE2C,GAAG,GAAM,CAClB,GAAGA,GAAG,CACN,CAACT,IAAI,EAAGM,OAAO,CAACI,KAAK,CAAEC,CAAC,EACtBA,CAAC,CAACX,IAAI,CAAC,CAAGW,CAAC,CAACX,IAAI,CAAC,CAAC5B,KAAK,GAAK,IAAI,CAAG,KACrC,CACF,CAAC,CAAC,CAAC,CACHZ,SAAS,CAAC,SAAS,CAAC,CACtB,CAAC,CAAC,CACDoD,KAAK,CAAC,IAAM,CACXpD,SAAS,CAAC,OAAO,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAqD,YAAY,CAAGA,CAACC,EAAE,CAAEhB,MAAM,CAAEC,KAAK,CAAEC,IAAI,GAAK,CAChDxC,SAAS,CAAC,MAAM,CAAC,CACjBN,KAAK,CACF6D,MAAM,CACL,GAAG5D,kBAAkB,CAAC,YAAY,CAAC,IAAIG,GAAG,gBAAgBwD,EAAE,EAAE,CAACzC,MAAM,CAAC,CACvEgC,IAAI,CAAC,IAAM,CACV,KAAM,CAAAC,OAAO,CAAG,CAAC,GAAG3C,IAAI,CAAC,CACzB,KAAM,CAAA4C,IAAI,CAAGD,OAAO,CAACP,KAAK,CAAC,CAC3BO,OAAO,CAACE,MAAM,CAACT,KAAK,CAAE,CAAC,CAAE,CACvB,GAAGQ,IAAI,CACP,CAACP,IAAI,EAAG,CAAE,GAAGO,IAAI,CAACP,IAAI,CAAC,CAAE5B,KAAK,CAAE0B,MAAO,CACzC,CAAC,CAAC,CACFlC,OAAO,CAAC0C,OAAO,CAAC,CAChBxC,SAAS,CAAE2C,GAAG,GAAM,CAClB,GAAGA,GAAG,CACN,CAACT,IAAI,EAAGM,OAAO,CAACI,KAAK,CAAEC,CAAC,EACtBA,CAAC,CAACX,IAAI,CAAC,CAAGW,CAAC,CAACX,IAAI,CAAC,CAAC5B,KAAK,GAAK,IAAI,CAAG,KACrC,CACF,CAAC,CAAC,CAAC,CACHZ,SAAS,CAAC,SAAS,CAAC,CACtB,CAAC,CAAC,CACDoD,KAAK,CAAC,IAAM,CACXpD,SAAS,CAAC,OAAO,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CACD,KAAM,CAAAmC,kBAAkB,CAAGA,CAACH,CAAC,CAAEP,GAAG,CAAEe,IAAI,GAAK,CAC3C,GAAI,CACF,KAAM,CAAAD,KAAK,CAAGpC,IAAI,CAACqD,SAAS,CAAET,IAAI,EAAKtB,GAAG,GAAKsB,IAAI,CAACtB,GAAG,CAAC,CACxDgC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAE1B,CAAC,CAAC2B,MAAM,CAAC7B,OAAO,CAAEL,GAAG,CAAEe,IAAI,CAAC,CACjD,GAAID,KAAK,CAAG,CAAC,CAAC,CAAE,CACd,KAAM,CAAAQ,IAAI,CAAG5C,IAAI,CAACoC,KAAK,CAAC,CACxB,GAAIP,CAAC,CAAC2B,MAAM,CAAC7B,OAAO,CAAE,CACpBM,UAAU,CAACW,IAAI,CAACP,IAAI,CAAC,CAACc,EAAE,CAAEtB,CAAC,CAAC2B,MAAM,CAAC7B,OAAO,CAAES,KAAK,CAAEC,IAAI,CAAC,CAC1D,CAAC,IAAM,CACLa,YAAY,CAACN,IAAI,CAACP,IAAI,CAAC,CAACc,EAAE,CAAEtB,CAAC,CAAC2B,MAAM,CAAC7B,OAAO,CAAES,KAAK,CAAEC,IAAI,CAAC,CAC5D,CACF,CACF,CAAE,MAAOoB,OAAO,CAAE,CAChBnE,OAAO,CAACoE,KAAK,CAAC,UAAUD,OAAO,EAAE,CAAC,CACpC,CACF,CAAC,CAED,KAAM,CAAA3B,SAAS,CAAGA,CAACD,CAAC,CAAEQ,IAAI,GAAK,CAC7B,GAAI,CACFxC,SAAS,CAAC,MAAM,CAAC,CACjB,KAAM,CAAA8D,KAAK,CAAG9B,CAAC,CAAC2B,MAAM,CAAC7B,OAAO,CAC9B,GAAI,CAAAiC,UAAU,CAAG,EAAE,CACnB5D,IAAI,CAAC6D,OAAO,CAAEjB,IAAI,EAAK,CACrB,GAAIA,IAAI,CAACP,IAAI,CAAC,CAAC5B,KAAK,GAAKkD,KAAK,CAAE,CAC9B,GAAGA,KAAK,CAAC,CACPC,UAAU,CAACE,IAAI,CAAC,CACdvB,MAAM,CAAE5C,GAAG,CACX6C,WAAW,CAAEI,IAAI,CAACP,IAAI,CAAC,CAACc,EAAE,CAC1BY,MAAM,CAAE,QACV,CAAC,CAAC,CACJ,CAAC,IAAI,CACHH,UAAU,CAACE,IAAI,CAAC,CACdvB,MAAM,CAAE5C,GAAG,CACX6C,WAAW,CAAEI,IAAI,CAACP,IAAI,CAAC,CAACc,EAAE,CAC1BY,MAAM,CAAE,QACV,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAAC,CACF,GAAI,CAAAzB,QAAQ,CAAG,CACb0B,cAAc,CAAEJ,UAClB,CAAC,CACDrE,KAAK,CAACkD,IAAI,CACR,GAAGjD,kBAAkB,CAAC,eAAe,CAAC,IAAIG,GAAG,EAAE,CAC/C2C,QAAQ,CACR5B,MACF,CAAC,CAACgC,IAAI,CAAC,IAAM,CACTzC,OAAO,CAAC,IAAM,CACZ,KAAM,CAAA0C,OAAO,CAAG,CAAC,GAAG3C,IAAI,CAAC,CACzBA,IAAI,CAAC6D,OAAO,CAAC,CAAC3C,CAAC,CAAE+C,CAAC,GAAK,CACrBtB,OAAO,CAACsB,CAAC,CAAC,CAAC5B,IAAI,CAAC,CAAG,CAAE,GAAGM,OAAO,CAACsB,CAAC,CAAC,CAAC5B,IAAI,CAAC,CAAE5B,KAAK,CAAEkD,KAAM,CAAC,CAC1D,CAAC,CAAC,CACF,MAAO,CAAAhB,OAAO,CAChB,CAAC,CAAC,CACFxC,SAAS,CAAE2C,GAAG,GAAM,CAAE,GAAGA,GAAG,CAAE,CAACT,IAAI,EAAGsB,KAAM,CAAC,CAAC,CAAC,CAC/C9D,SAAS,CAAC,SAAS,CAAC,CACtB,CAAC,CAAC,CACN,CAEA,MAAM4D,OAAO,CAAC,CACZnE,OAAO,CAACoE,KAAK,CAAC,UAAUD,OAAO,EAAE,CAAC,CACpC,CAAC,CAEH,CAAC,CAED,KAAM,CAAAS,WAAW,CAAIC,QAAQ,EAAK,CAChC,KAAM,CAAAC,aAAa,CAAG,CAAC,CAAC,CACxBxE,UAAU,CAACyE,GAAG,CAAEC,MAAM,EAAK,CACzB,GAAIF,aAAa,CAACE,MAAM,CAACC,IAAI,CAAC,CAAE,CAC9BH,aAAa,CAACE,MAAM,CAACC,IAAI,CAAC,CAAG,CAC3B,GAAGH,aAAa,CAACE,MAAM,CAACC,IAAI,CAAC,CAC7B,CAACD,MAAM,CAACP,MAAM,CAACS,WAAW,CAAC,CAAC,EAAG,CAC7B/D,KAAK,CAAE0D,QAAQ,CAACM,QAAQ,CAACH,MAAM,CAACnB,EAAE,CAAC,CACnCA,EAAE,CAAEmB,MAAM,CAACnB,EACb,CACF,CAAC,CACDG,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEY,QAAQ,CAACM,QAAQ,CAACH,MAAM,CAACnB,EAAE,CAAC,CAAEmB,MAAM,CAACnB,EAAE,CAAC,CACrE,CAAC,IAAM,CACLiB,aAAa,CAACE,MAAM,CAACC,IAAI,CAAC,CAAG,CAC3B,GAAGH,aAAa,CAACE,MAAM,CAACC,IAAI,CAAC,CAC7B9C,KAAK,CAAE6C,MAAM,CAACC,IAAI,CAClB,CAACD,MAAM,CAACP,MAAM,CAACS,WAAW,CAAC,CAAC,EAAG,CAC7B/D,KAAK,CAAE0D,QAAQ,CAACM,QAAQ,CAACH,MAAM,CAACnB,EAAE,CAAC,CACnCA,EAAE,CAAEmB,MAAM,CAACnB,EACb,CAAC,CACD7B,GAAG,CAAEoD,MAAM,CAACC,IAAI,CAACP,aAAa,CAAC,CAACQ,MAAM,CAAG,CAC3C,CAAC,CACH,CACF,CAAC,CAAC,CACF,KAAM,CAAAC,UAAU,CAAGH,MAAM,CAACI,MAAM,CAACV,aAAa,CAAC,CAC/CjE,SAAS,CAAE2C,GAAG,GAAM,CAClB,GAAGA,GAAG,CACN1C,GAAG,CAAEyE,UAAU,CAAC9B,KAAK,CAAEC,CAAC,EAAMA,CAAC,CAAC5C,GAAG,CAAG4C,CAAC,CAAC5C,GAAG,CAACK,KAAK,GAAK,IAAI,CAAG,KAAM,CAAC,CACpEJ,KAAK,CAAEwE,UAAU,CAAC9B,KAAK,CAAEC,CAAC,EACxBA,CAAC,CAAC3C,KAAK,CAAG2C,CAAC,CAAC3C,KAAK,CAACI,KAAK,GAAK,IAAI,CAAG,KACrC,CAAC,CACDH,SAAS,CAAEuE,UAAU,CAAC9B,KAAK,CAAEC,CAAC,EAC5BA,CAAC,CAAC1C,SAAS,CAAG0C,CAAC,CAAC1C,SAAS,CAACG,KAAK,GAAK,IAAI,CAAG,KAC7C,CAAC,CACDF,QAAQ,CAAEsE,UAAU,CAAC9B,KAAK,CAAEC,CAAC,EAC3BA,CAAC,CAACzC,QAAQ,CAAGyC,CAAC,CAACzC,QAAQ,CAACE,KAAK,GAAK,IAAI,CAAG,KAC3C,CACF,CAAC,CAAC,CAAC,CACH6C,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEsB,UAAU,CAAE3E,MAAM,CAAC,CACzCD,OAAO,CAAC4E,UAAU,CAAC,CACrB,CAAC,CAED3F,SAAS,CAAC,IAAM,CACd,GAAIS,GAAG,CAAE,CACPE,SAAS,CAAC,MAAM,CAAC,CACjBE,UAAU,CAAC,IAAI,CAAC,CAChBR,KAAK,CACFwF,GAAG,CAAC,GAAGvF,kBAAkB,CAAC,YAAY,CAAC,IAAIG,GAAG,EAAE,CAAEe,MAAM,CAAC,CACzDgC,IAAI,CAAEsC,GAAG,EAAK,CACbd,WAAW,CAACc,GAAG,CAAChF,IAAI,CAAC,CACrBD,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDkD,KAAK,CAAEQ,OAAO,EAAK,CAClBnE,OAAO,CAACoE,KAAK,CAAC,UAAUD,OAAO,EAAE,CAAC,CAClCS,WAAW,CAAC,EAAE,CAAC,CACfnE,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEf,KAAA,CAAAwC,aAAA,CAAAxC,KAAA,CAAA0C,QAAA,mBACE1C,KAAA,CAAAwC,aAAA,CAACpC,KAAK,EACJ0B,OAAO,CAAEA,OAAQ,CACjBhB,OAAO,CAAEA,OAAQ,CACjBmF,UAAU,CAAEjF,IAAK,CACjBkF,IAAI,CAAC,OAAO,CACZC,MAAM,CAAE,CAAEnC,CAAC,CAAE,GAAI,CAAE,CACnBoC,UAAU,CAAE,CAAEC,QAAQ,CAAE,CAAE,CAAE,CAC7B,CACD,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module"}