{"ast":null,"code":"import{loadState}from'helpers';import*as actionTypes from'../actionsTypes/auth';import{updateObject}from'../utility';const initialState={};const load=state=>{try{const token=loadState('token');return updateObject(state,{token:loadState('token'),user:loadState('user'),expired:loadState('expired'),isAuth:!!token});}catch(error){return state;}};const update=(state,_ref)=>{let{user}=_ref;return updateObject(state,{user:{...state.user,...user}});};const login=(state,_ref2)=>{let{token,user}=_ref2;return updateObject(state,{token,user,isAuth:!!token,expired:undefined});};const refresh=(state,_ref3)=>{let{token}=_ref3;return updateObject(state,{token,isAuth:!!token,expired:undefined});};const logout=state=>{return updateObject(state,{token:undefined,user:undefined,isAuth:false});};const expired=state=>{return updateObject(state,{expired:true});};const reducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actionTypes.LOGIN:return login(state,action);case actionTypes.LOGOUT:return logout(state);case actionTypes.EXPIRED:return expired(state);case actionTypes.UPDATE:return update(state,action);case actionTypes.LOAD:return load(state);case actionTypes.REFRESH:return refresh(state,action);default:return state;}};export default reducer;","map":{"version":3,"names":["loadState","actionTypes","updateObject","initialState","load","state","token","user","expired","isAuth","error","update","_ref","login","_ref2","undefined","refresh","_ref3","logout","reducer","arguments","length","action","type","LOGIN","LOGOUT","EXPIRED","UPDATE","LOAD","REFRESH"],"sources":["C:/Users/HUAWEI/Documents/GitHub/SinfonyPlataforma/src/_redux/reducers/auth.js"],"sourcesContent":["import { loadState } from 'helpers'\r\n\r\nimport * as actionTypes from '../actionsTypes/auth'\r\nimport { updateObject } from '../utility'\r\n\r\nconst initialState = {}\r\n\r\nconst load = state => {\r\n  try {\r\n    const token = loadState('token')\r\n\r\n    return updateObject(state, {\r\n      token: loadState('token'),\r\n      user: loadState('user'),\r\n      expired: loadState('expired'),\r\n      isAuth: !!token,\r\n    })\r\n  } catch (error) {\r\n    return state\r\n  }\r\n\r\n}\r\n\r\nconst update = (state, { user }) => {\r\n  return updateObject(state, {\r\n    user: {\r\n      ...state.user,\r\n      ...user,\r\n    },\r\n  })\r\n}\r\n\r\nconst login = (state, { token, user }) => {\r\n  return updateObject(state, {\r\n    token,\r\n    user,\r\n    isAuth: !!token,\r\n    expired: undefined,\r\n  })\r\n}\r\n\r\nconst refresh = (state, { token }) => {\r\n  return updateObject(state, {\r\n    token,\r\n    isAuth: !!token,\r\n    expired: undefined,\r\n  })\r\n}\r\n\r\nconst logout = state => {\r\n  return updateObject(state, {\r\n    token: undefined,\r\n    user: undefined,\r\n    isAuth: false,\r\n  })\r\n}\r\n\r\nconst expired = state => {\r\n  return updateObject(state, {\r\n    expired: true,\r\n  })\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.LOGIN:\r\n      return login(state, action)\r\n    case actionTypes.LOGOUT:\r\n      return logout(state)\r\n    case actionTypes.EXPIRED:\r\n      return expired(state)\r\n    case actionTypes.UPDATE:\r\n      return update(state, action)\r\n    case actionTypes.LOAD:\r\n      return load(state)\r\n    case actionTypes.REFRESH:\r\n      return refresh(state, action)\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}