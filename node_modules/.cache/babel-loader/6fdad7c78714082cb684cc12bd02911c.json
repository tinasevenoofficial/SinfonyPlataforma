{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import moment from\"moment\";import{Form}from\"antd\";import{EXTERNAL_API_PATHS,FILTER_DAYS}from\"../utils/constants\";const useTable=_ref=>{let{key}=_ref;const[formEdit]=Form.useForm();const[formCreate]=Form.useForm();const[data,setData]=useState([]);const[loading,setLoading]=React.useState(false);const getRadicaciones=function(){let id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;setLoading(true);const dataForm=FILTER_DAYS.filter(filter=>filter.id===id)[0];axios.get(`${EXTERNAL_API_PATHS[key]}${dataForm.fechaInicio?`?fechaInicio=${dataForm.fechaInicio}${dataForm.fechaFin?`&fechaFin=${dataForm.fechaFin}`:\"\"}`:\"\"}`).then(res=>{setData(res.data.map(item=>{return{...item,fecha_radicacion_string:moment(item.fecha_radicacion).isValid()?moment(item.fecha_radicacion).format(\"LLL\"):\"No disponible\"};}));setLoading(false);});};useEffect(()=>{getRadicaciones();},[]);return{formEdit,formCreate,data,setDays:getRadicaciones,loading};};export default useTable;","map":{"version":3,"names":["React","useState","useEffect","axios","moment","Form","EXTERNAL_API_PATHS","FILTER_DAYS","useTable","_ref","key","formEdit","useForm","formCreate","data","setData","loading","setLoading","getRadicaciones","id","arguments","length","undefined","dataForm","filter","get","fechaInicio","fechaFin","then","res","map","item","fecha_radicacion_string","fecha_radicacion","isValid","format","setDays"],"sources":["C:/Users/HUAWEI/Documents/GitHub/SinfonyPlataforma/src/hooks/useTableRadicacion.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { Form } from \"antd\";\r\nimport { EXTERNAL_API_PATHS, FILTER_DAYS } from \"../utils/constants\";\r\n\r\nconst useTable = ({ key }) => {\r\n  const [formEdit] = Form.useForm();\r\n  const [formCreate] = Form.useForm();\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const getRadicaciones = (id = 1) => {\r\n    setLoading(true);\r\n    const dataForm = FILTER_DAYS.filter((filter) => filter.id === id)[0];\r\n    axios\r\n      .get(\r\n        `${EXTERNAL_API_PATHS[key]}${\r\n          dataForm.fechaInicio\r\n            ? `?fechaInicio=${dataForm.fechaInicio}${\r\n                dataForm.fechaFin ? `&fechaFin=${dataForm.fechaFin}` : \"\"\r\n              }`\r\n            : \"\"\r\n        }`\r\n      )\r\n      .then((res) => {\r\n        setData(\r\n          res.data.map((item) => {\r\n            return {\r\n              ...item,\r\n              fecha_radicacion_string: moment(item.fecha_radicacion).isValid()\r\n                ? moment(item.fecha_radicacion).format(\"LLL\")\r\n                : \"No disponible\",\r\n            };\r\n          })\r\n        );\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getRadicaciones();\r\n  }, []);\r\n\r\n  return {\r\n    formEdit,\r\n    formCreate,\r\n    data,\r\n    setDays: getRadicaciones,\r\n    loading,\r\n  };\r\n};\r\n\r\nexport default useTable;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,OAASC,IAAI,KAAQ,MAAM,CAC3B,OAASC,kBAAkB,CAAEC,WAAW,KAAQ,oBAAoB,CAEpE,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAa,IAAZ,CAAEC,GAAI,CAAC,CAAAD,IAAA,CACvB,KAAM,CAACE,QAAQ,CAAC,CAAGN,IAAI,CAACO,OAAO,CAAC,CAAC,CACjC,KAAM,CAACC,UAAU,CAAC,CAAGR,IAAI,CAACO,OAAO,CAAC,CAAC,CACnC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGjB,KAAK,CAACC,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAAiB,eAAe,CAAG,QAAAA,CAAA,CAAY,IAAX,CAAAC,EAAE,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAC7BH,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAM,QAAQ,CAAGhB,WAAW,CAACiB,MAAM,CAAEA,MAAM,EAAKA,MAAM,CAACL,EAAE,GAAKA,EAAE,CAAC,CAAC,CAAC,CAAC,CACpEhB,KAAK,CACFsB,GAAG,CACF,GAAGnB,kBAAkB,CAACI,GAAG,CAAC,GACxBa,QAAQ,CAACG,WAAW,CAChB,gBAAgBH,QAAQ,CAACG,WAAW,GAClCH,QAAQ,CAACI,QAAQ,CAAG,aAAaJ,QAAQ,CAACI,QAAQ,EAAE,CAAG,EAAE,EACzD,CACF,EAAE,EAEV,CAAC,CACAC,IAAI,CAAEC,GAAG,EAAK,CACbd,OAAO,CACLc,GAAG,CAACf,IAAI,CAACgB,GAAG,CAAEC,IAAI,EAAK,CACrB,MAAO,CACL,GAAGA,IAAI,CACPC,uBAAuB,CAAE5B,MAAM,CAAC2B,IAAI,CAACE,gBAAgB,CAAC,CAACC,OAAO,CAAC,CAAC,CAC5D9B,MAAM,CAAC2B,IAAI,CAACE,gBAAgB,CAAC,CAACE,MAAM,CAAC,KAAK,CAAC,CAC3C,eACN,CAAC,CACH,CAAC,CACH,CAAC,CACDlB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAEDf,SAAS,CAAC,IAAM,CACdgB,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLP,QAAQ,CACRE,UAAU,CACVC,IAAI,CACJsB,OAAO,CAAElB,eAAe,CACxBF,OACF,CAAC,CACH,CAAC,CAED,cAAe,CAAAR,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}